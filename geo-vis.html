
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Geo-Spatial Visualisation &#8212; Coding for Economists</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-9FZQCPFXZJ"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-9FZQCPFXZJ');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-9FZQCPFXZJ');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'geo-vis';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="canonical" href="https://aeturrell.github.io/coding-for-economists/geo-vis.html" />
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Abstract Mathematics" href="maths-abstract.html" />
    <link rel="prev" title="Intro to Geo-Spatial Analysis" href="geo-intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/smith_lovelace.png" class="logo__image only-light" alt="Coding for Economists - Home"/>
    <script>document.write(`<img src="_static/smith_lovelace.png" class="logo__image only-dark" alt="Coding for Economists - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Introduction
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="code-preliminaries.html">Preliminaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-basics.html">Coding Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow-basics.html">Workflow Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-where.html">Writing Code</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Essential Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="data-analysis-quickstart.html">Data Analysis Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-intro.html">Working with Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-transformation.html">Data Transformation</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-read-and-write.html">Reading and Writing Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-numbers.html">Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-categorical.html">Categorical Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-spreadsheets.html">Spreadsheets</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Essential Coding</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="code-best-practice.html">Code in Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-advanced.html">Coding</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-advcd-best-practice.html">Shortcuts to Better Coding</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Essential Data Visualisation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="vis-intro.html">Intro to Data Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="vis-letsplot.html">Easy Data Visualisation for Tidy Data with <strong>Lets-Plot</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="vis-matplotlib.html">Powerful Data Visualisation with <strong>Matplotlib</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="vis-common-plots-one.html">Common Plots I</a></li>
<li class="toctree-l1"><a class="reference internal" href="vis-common-plots-two.html">Common Plots II</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Essential Workflow</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="auto-research-outputs.html">Automating Research Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrkflow-markdown.html">Markdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrkflow-command-line.html">The Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrkflow-version-control.html">Version Control</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Econometrics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="econmt-probability-random.html">Probability and Random Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="econmt-statistics.html">Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="econmt-regression.html">Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="econmt-generalised-models.html">Generalised regression models</a></li>
<li class="toctree-l1"><a class="reference internal" href="econmt-diagnostics.html">Regression diagnostics and visualisations</a></li>
<li class="toctree-l1"><a class="reference internal" href="econmt-causal-inference.html">Causal Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="econmt-bayesian.html">Bayesian Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="econmt-bayes-bambi.html">Bayesian Inference Made Easier</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="data-boolean.html">Boolean Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-joining-data.html">Joins</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-missing-values.html">Missing Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-exploratory-analysis.html">Exploratory Data Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-extraction.html">Getting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-advanced.html"><strong>pandas</strong> alternatives, validation, and orchestration</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-sharing.html">Sharing Data</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Coding</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="code-further-advanced.html">Advanced Coding</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Visualisation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="vis-narrative.html">Narrative Data Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="vis-tables.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="vis-dashboards.html">Dashboards</a></li>
<li class="toctree-l1"><a class="reference internal" href="vis-animation.html">Animation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Workflow</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="wrkflow-quarto.html">Combining Code and Text in Quarto Markdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrkflow-environments.html">Virtual Code Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrkflow-rap.html">Reproducible Analysis</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Time</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="time-intro.html">Introduction to Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="time-series.html">Time Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="time-fcasts-env.html">Forecasting Exercises</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Text Analysis</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="text-intro.html">Introduction to Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="text-regex.html">Regular Expressions, aka regex</a></li>
<li class="toctree-l1"><a class="reference internal" href="text-nlp.html">Natural Language Processing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Machine Learning</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ml-intro.html">Introduction to Machine Learning and AI</a></li>
<li class="toctree-l1"><a class="reference internal" href="ml-sup.html">Supervised Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="ml-data.html">Data for Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="ml-unsup.html">Unsupervised Machine Learning</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Geospatial</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="geo-intro.html">Intro to Geo-Spatial Analysis</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Geo-Spatial Visualisation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Mathematics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="maths-abstract.html">Abstract Mathematics</a></li>
<li class="toctree-l1"><a class="reference internal" href="maths-numerical.html">Numerical Mathematics</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Craft</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="craft-intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="craft-search.html">Putting the Search in Research</a></li>
<li class="toctree-l1"><a class="reference internal" href="craft-generating-ideas.html">Generating and Accepting Research Ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="craft-writing-papers.html">Writing Papers</a></li>
<li class="toctree-l1"><a class="reference internal" href="craft-research-blogs.html">Research Blog Posts</a></li>
<li class="toctree-l1"><a class="reference internal" href="craft-referee.html">Writing Referee Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="craft-technical-reports.html">Writing Technical Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="craft-extended-abstracts.html">Extended Abstracts</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Further Data Visualisation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="vis-plotnine.html">Data Visualisation using the Grammar of Graphics with <strong>Plotnine</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="vis-seaborn.html">Data Visualisation with <strong>Seaborn</strong></a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Coming from ...</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="coming-from-stata.html">Coming from Stata</a></li>
<li class="toctree-l1"><a class="reference internal" href="coming-from-matlab.html">Coming from Matlab</a></li>
<li class="toctree-l1"><a class="reference internal" href="coming-from-r.html">Coming from R</a></li>
<li class="toctree-l1"><a class="reference internal" href="coming-from-excel.html">Coming from Excel</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">End Matter</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="zreferences.html">Bibliography</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/aeturrell/coding-for-economists/blob/main/geo-vis.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/aeturrell/coding-for-economists" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/aeturrell/coding-for-economists/issues/new?title=Issue%20on%20page%20%2Fgeo-vis.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/geo-vis.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Geo-Spatial Visualisation</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imports-and-packages">Imports and packages</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maps">Maps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#choropleths">Choropleths</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cartogram">Cartogram</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quadtree">Quadtree</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spatio-temporal-plots">Spatio-Temporal Plots</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-basemaps">Using basemaps</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contextily">Contextily</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interactive-maps">Interactive maps</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#livemap-in-lets-plot">Livemap in Lets-Plot</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#review">Review</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="geo-spatial-visualisation">
<h1>Geo-Spatial Visualisation<a class="headerlink" href="#geo-spatial-visualisation" title="Link to this heading">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p>In this chapter, you’ll learn the basics of geospatial visualisation using code. If you’re new to geospatial analysis, you should look at the introduction page first.</p>
<p>You should be aware when following this chapter that installing geographic analysis packages isn’t always the easiest and things can and do go wrong! (Some geospatial analysis courses recommend running everything in a Docker container.)</p>
<section id="imports-and-packages">
<h3>Imports and packages<a class="headerlink" href="#imports-and-packages" title="Link to this heading">#</a></h3>
<p>We’ll be using <a class="reference external" href="https://geopandas.org/index.html"><strong>geopandas</strong></a>, the go-to package for vector spatial analysis in Python. The easiest way to install this package is using <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">geopandas</span></code>; if you want to install it via pip then look at the <a class="reference external" href="https://geopandas.org/install.html">install instructions</a>. We’ll also use <a class="reference external" href="https://lets-plot.org/"><strong>Lets-Plot</strong></a>.</p>
<p>Let’s import some of the packages we’ll be using:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">lets_plot</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="n">LetsPlot</span><span class="o">.</span><span class="n">setup_html</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
            <div id="btWKxG"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.6.1/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("btWKxG").appendChild(div);
                    };
                    var e = document.getElementById("btWKxG");
                    e.appendChild(script);
                })()
            </script>
            </div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set max rows displayed for readability</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_rows&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="c1"># Plot settings</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span>
    <span class="s2">&quot;https://github.com/aeturrell/coding-for-economists/raw/main/plot_style.txt&quot;</span>
<span class="p">)</span>
<span class="c1"># For this page, use data limits and bigger default fig size</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;axes.autolimit_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span>
        <span class="s2">&quot;figure.figsize&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
        <span class="s2">&quot;figure.dpi&quot;</span><span class="p">:</span> <span class="mi">125</span><span class="p">,</span>
        <span class="s2">&quot;patch.linewidth&quot;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="c1"># Turn off warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="maps">
<h2>Maps<a class="headerlink" href="#maps" title="Link to this heading">#</a></h2>
<p>If you’ve looked at the introductory page on geospatial analysis, you’ll know it’s easy to make basic maps: you just need to load a shapefile and use the <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># To run this example, you will need to download the files at this url:</span>
<span class="c1"># https://github.com/aeturrell/coding-for-economists/tree/main/data/geo/uk_lad</span>
<span class="c1"># and save them in the path &#39;data/geo/uk_lad&#39; (path relative to where you&#39;re running the code)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span>
    <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;data/geo/uk_lad/Local_Authority_Districts__May_2020__UK_BUC.shp&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/42ed4656743ff62b81ec2d21cb29c7726ab3011da234c93df14beb60389e1e5c.svg" src="_images/42ed4656743ff62b81ec2d21cb29c7726ab3011da234c93df14beb60389e1e5c.svg" />
</div>
</div>
<p>As it goes, this is not very attractive, so let’s see some options for customisation that will make it a little better. It’s rare that you’ll want to include the axes on maps, and these can be turned off by turning everything to do with the axes off. There are two ways to do further manipulations of the figure axis: calling plot returns an axis object or we can create one and then pass <code class="docutils literal notranslate"><span class="pre">ax=ax_name</span></code> to plot as a keyword argument. Colour can be changed using the <code class="docutils literal notranslate"><span class="pre">color=</span></code> keyword.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;#2ca25f&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/779965f3248a0f6768e3a43e813aa333b5cbc88fc926e98b8dc0b72a2ba2afcc.svg" src="_images/779965f3248a0f6768e3a43e813aa333b5cbc88fc926e98b8dc0b72a2ba2afcc.svg" />
</div>
</div>
<p>The lines that divide up the different local authority districts are faint. They can be controlled with the <code class="docutils literal notranslate"><span class="pre">edgecolor</span></code> and <code class="docutils literal notranslate"><span class="pre">linewidth</span></code> keywords. We can also change the background using the <code class="docutils literal notranslate"><span class="pre">fig.patch.set_facecolor()</span></code> method, and add a scale using an extra package, <a class="reference external" href="https://github.com/ppinard/matplotlib-scalebar"><strong>matplotlib-scalebar</strong></a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib_scalebar.scalebar</span><span class="w"> </span><span class="kn">import</span> <span class="n">ScaleBar</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;#2ca25f&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s2">&quot;#9ecae1&quot;</span><span class="p">)</span>
<span class="c1"># Create scale bar</span>
<span class="n">scalebar</span> <span class="o">=</span> <span class="n">ScaleBar</span><span class="p">(</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="n">box_alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">location</span><span class="o">=</span><span class="s2">&quot;lower right&quot;</span><span class="p">,</span>
    <span class="n">length_fraction</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span>
    <span class="n">font_properties</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">},</span>
<span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">scalebar</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a44db8c2176a38ae9f07a79513f9b09e8e011dfde17082becc7dfabcc9ca2750.svg" src="_images/a44db8c2176a38ae9f07a79513f9b09e8e011dfde17082becc7dfabcc9ca2750.svg" />
</div>
</div>
</section>
<section id="choropleths">
<h2>Choropleths<a class="headerlink" href="#choropleths" title="Link to this heading">#</a></h2>
<p>A choropleth map shows different areas in colours according to a statistic that represents an aggregate summary of a geographic characteristic within each area. Population density or per-capita income are good examples of characteristics. The statistic shown might be unique values, equal intervals, quantiles, or the Fisher-Jenks natural breaks.</p>
<p>First, though, let’s create a basic choropleth.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pay</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://github.com/aeturrell/coding-for-economists/raw/main/data/geo/ashe_lad_median_pay_2020.csv&quot;</span>
<span class="p">)</span>
<span class="n">pay</span> <span class="o">=</span> <span class="n">pay</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;lad&quot;</span><span class="p">:</span> <span class="s2">&quot;LAD20CD&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">pay</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;LAD20CD&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">col</span> <span class="o">=</span> <span class="s2">&quot;Log median weekly pay (2020 GBP)&quot;</span>
<span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Median weekly pay (2020 GBP)&quot;</span><span class="p">])</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
    <span class="n">column</span><span class="o">=</span><span class="n">col</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">legend_kwds</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;shrink&quot;</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">},</span>
    <span class="n">vmin</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()),</span>
    <span class="n">vmax</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()),</span>
<span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b4a0e91518de012fdd617d588a384dd1a0403d91cc331ef4a1e90816ed7daf50.svg" src="_images/b4a0e91518de012fdd617d588a384dd1a0403d91cc331ef4a1e90816ed7daf50.svg" />
</div>
</div>
<p>This used <strong>geopandas</strong>. There’s a dedicated plotting tool called <a class="reference external" href="https://residentmario.github.io/geoplot/index.html"><strong>geoplot</strong></a> as well.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">geoplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gplt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">geoplot.crs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gcrs</span>

<span class="n">gplt</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span>
    <span class="n">df</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="s2">&quot;EPSG:4326&quot;</span><span class="p">),</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">col</span><span class="p">,</span>
    <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/882dae097f365fe175d55411eee4a32435f695578d00d0711887768bef56d375.svg" src="_images/882dae097f365fe175d55411eee4a32435f695578d00d0711887768bef56d375.svg" />
</div>
</div>
<p>Another way to create choropleths is to split the variable into a distinct number of ranges according to a scheme. In the below, we use <code class="docutils literal notranslate"><span class="pre">scheme='Quantiles'</span></code> with <code class="docutils literal notranslate"><span class="pre">k=4</span></code> to produce a choropleth with four distinct groups.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">scheme</span><span class="o">=</span><span class="s2">&quot;Quantiles&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">legend_kwds</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f26ce0b03119485a400aa77d07adf6db9220c8886d898aed4bdbbc38174254e7.svg" src="_images/f26ce0b03119485a400aa77d07adf6db9220c8886d898aed4bdbbc38174254e7.svg" />
</div>
</div>
<p>A third kind of choropleth has distinct levels based on pre-existing categories. Our data doesn’t have any of those, so let’s generate some just to show how it works.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;cat_col&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;LAD20CD&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Conf %</th>
      <th>Log median weekly pay (2020 GBP)</th>
      <th>cat_col</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>6.5</td>
      <td>6.310100</td>
      <td>E</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7.5</td>
      <td>6.249010</td>
      <td>E</td>
    </tr>
    <tr>
      <th>2</th>
      <td>8.6</td>
      <td>6.220391</td>
      <td>E</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6.3</td>
      <td>6.325434</td>
      <td>E</td>
    </tr>
    <tr>
      <th>4</th>
      <td>7.7</td>
      <td>6.192158</td>
      <td>E</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">column</span><span class="o">=</span><span class="s2">&quot;cat_col&quot;</span><span class="p">,</span>
    <span class="n">categorical</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">legend_kwds</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;frameon&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
<span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5d7242f4f58ae79a0a015fefb3b4fd960c0dd6c1b394bb2b1e56dfae5c9e9b3d.svg" src="_images/5d7242f4f58ae79a0a015fefb3b4fd960c0dd6c1b394bb2b1e56dfae5c9e9b3d.svg" />
</div>
</div>
<p>This is useful for, for example, plotting streets of different types.</p>
</section>
<section id="cartogram">
<h2>Cartogram<a class="headerlink" href="#cartogram" title="Link to this heading">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The examples in this section are not working due to issues with the <a class="reference external" href="https://github.com/ResidentMario/geoplot"><strong>geoplot</strong></a> library. If you need to use something from this section, there are two ways you can help. One is to show your support for a resolution on <a class="reference external" href="https://github.com/ResidentMario/geoplot/issues/288">this GitHub issue</a>—though please do bear in mind that most open source libraries are run by volunteers, and you should always be constructive in your interactions. The second is to contribute to the library yourself by creating a pull request that fixes the problem.</p>
</div>
<p>A cartogram is a thematic map in which the geographic size of regions is altered to be proportional to a variable. The shape of the region is warped or shrunk. They can be especially useful when trying to reflect the fact that regions with the largest area do not always have proportionate variable values. Actually, due to the tendency of the shape of political regions to reflect choices made 100s or 1000s of years previously, and for urban areas to be under separate political arrangements, quite often economic variables are anti-correlated with areas.</p>
<p>A cartogram of pay in Wales demonstrates this. Some areas with higer median incomes, such as Monmouthshire and Conwy, almost completely fill their potential region areas. But others, including Blaenau Gwent and Powys, are shown much smaller than their actual areas.</p>
<p>The important part of the plot below is the <code class="docutils literal notranslate"><span class="pre">gplt.cartogram()</span></code> but, along with other bits to make the plot look better, we’re adding <code class="docutils literal notranslate"><span class="pre">gplt.polyplot()</span></code> to show what the true size of each region is when it is not proportional to another variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Unfortunately this isn&#39;t currently working: an issue has been raised at https://github.com/ResidentMario/geoplot/issues/288</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="s2">&quot;EPSG:4326&quot;</span><span class="p">)</span>
<span class="c1"># Get a representative point for each region to annotate</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;coords&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;geometry&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">representative_point</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">coords</span><span class="p">[:][</span><span class="mi">0</span><span class="p">])</span>
<span class="n">df_wales</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;LAD20CD&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;W&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>

<span class="c1"># fig, ax = plt.subplots(figsize=(10, 5), dpi=125)</span>
<span class="c1"># gplt.cartogram(df_wales, scale=&quot;Median weekly pay (2020 GBP)&quot;, ax=ax)</span>
<span class="c1"># gplt.polyplot(df_wales, facecolor=&quot;lightgray&quot;, edgecolor=&quot;white&quot;, linewidth=0.5, ax=ax)</span>
<span class="c1"># # Add text annotation to the largest polygons</span>
<span class="c1"># for idx, row in df_wales.iterrows():</span>
<span class="c1">#     if row[&quot;geometry&quot;].area &gt; np.quantile(df.area, q=0.7):</span>
<span class="c1">#         ax.annotate(</span>
<span class="c1">#             text=row[&quot;LAD20NM&quot;],</span>
<span class="c1">#             xy=row[&quot;coords&quot;],</span>
<span class="c1">#             horizontalalignment=&quot;center&quot;,</span>
<span class="c1">#             weight=&quot;bold&quot;,</span>
<span class="c1">#             fontsize=8,</span>
<span class="c1">#             color=&quot;black&quot;,</span>
<span class="c1">#         )</span>
<span class="c1"># plt.tight_layout();</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="quadtree">
<h2>Quadtree<a class="headerlink" href="#quadtree" title="Link to this heading">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The examples in this section are not working due to issues with the <a class="reference external" href="https://github.com/ResidentMario/geoplot"><strong>geoplot</strong></a> library. If you need to use something from this section, there are two ways you can help. One is to show your support for a resolution on <a class="reference external" href="https://github.com/ResidentMario/geoplot/issues/288">this GitHub issue</a>—though please do bear in mind that most open source libraries are run by volunteers, and you should always be constructive in your interactions. The second is to contribute to the library yourself by creating a pull request that fixes the problem.</p>
</div>
<p>A quadtree is a tree data structure that splits a space into increasingly small rectangular fractals. This plot takes a sequence of point or polygonal geometries as input and builds a choropleth out of their centroids. Quadtrees are good at illustrating density, and are more flexible than a conventional choropleth: remember that choropleths can be the result of binning point occurrences into geographical regions or of data that are already aggregated to the region level. Quadtree is not a replacement for the latter, because the data are already aggregated. But, if you have point data, quadtree allows you to aggregate them <em>not</em> according to a pre-defined geography. Given pre-defined geographies such as Local Authority Districts may not be useful for the question you’re thinking about (or worse could be downright misleading), this is a very helpful property.</p>
<p>We’ll use an example from the <strong>geoplot</strong> documentation to illustrate them. The most basic layer just turns a series of points into a quadtree. We’ll use the lats and longs of collisions in New York:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">collisions</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">gplt</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s2">&quot;nyc_collision_factors&quot;</span><span class="p">))</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">quadtree</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span> <span class="n">nmax</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2529e0f846a8153cf724efeb47eeb7f1bdd909588b5af3acf435b0e05833a65c.svg" src="_images/2529e0f846a8153cf724efeb47eeb7f1bdd909588b5af3acf435b0e05833a65c.svg" />
</div>
</div>
<p>Now let’s project this onto a background of NY’s boroughs. Because this is computationally expensive, we’ll use the <code class="docutils literal notranslate"><span class="pre">simplify()</span></code> method to reduce the complexity of the geometries we’re using.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">boroughs</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">gplt</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s2">&quot;nyc_boroughs&quot;</span><span class="p">))</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">quadtree</span><span class="p">(</span>
    <span class="n">collisions</span><span class="p">,</span>
    <span class="n">nmax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
    <span class="n">clip</span><span class="o">=</span><span class="n">boroughs</span><span class="o">.</span><span class="n">simplify</span><span class="p">(</span><span class="mf">0.001</span><span class="p">),</span>
    <span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span>
    <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/bcc751ef9284451ba6ebbcb5691a96eed8f9e57bf84a1beaeec5582c61d6be45.svg" src="_images/bcc751ef9284451ba6ebbcb5691a96eed8f9e57bf84a1beaeec5582c61d6be45.svg" />
</div>
</div>
<p>We can enjoy the best of a choropleth’s ability to show us magnitudes <em>alongside</em> the ability of quadtree to show us geographic density through smaller rectangles:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gplt</span><span class="o">.</span><span class="n">quadtree</span><span class="p">(</span>
    <span class="n">collisions</span><span class="p">,</span>
    <span class="n">nmax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">agg</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">,</span>
    <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">AlbersEqualArea</span><span class="p">(),</span>
    <span class="n">clip</span><span class="o">=</span><span class="n">boroughs</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;NUMBER OF PEDESTRIANS INJURED&quot;</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;plasma&quot;</span><span class="p">,</span>
    <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/094652f1c03bde47324a2893fff19dcca9728fbeddc33b8212ba906b9793dab1.svg" src="_images/094652f1c03bde47324a2893fff19dcca9728fbeddc33b8212ba906b9793dab1.svg" />
</div>
</div>
</section>
<section id="spatio-temporal-plots">
<h2>Spatio-Temporal Plots<a class="headerlink" href="#spatio-temporal-plots" title="Link to this heading">#</a></h2>
<p>This is really going to combine two things we already have at our fingertips: space and time. There are various ways we could approach this. The first we’ll see is to do a series of <em>small multiples</em>, also known as a <em>facet chart</em>, and advance time by one unit in each plot. The second is just a heat map in which the two dimensions are space and time.</p>
<p>The data we’ll be using tell a tragic story. They are counts of deaths that occurred within 28 days of (a known case of) coronavirus organised by the death date. Note that there are various issues with these data and they do not tell the whole story of coronavirus by any means. But this is just an illustrative example.</p>
<p>We’ll just bring in data for London. They don’t come with their own geometry, so our first job is to merge them onto our existing UK local authority geodataframe, which does have a geometry. Fortunately, both data sets have the ‘LAD20CD’ and ‘LAD20NM’ columns, which makes this easier than it might have been.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;LAD20CD&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;E09&quot;</span><span class="p">)]</span>
<span class="n">cv_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span>
    <span class="s2">&quot;https://github.com/aeturrell/coding-for-economists/raw/main/data/geo/cv_ldn_deaths.parquet&quot;</span>
<span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">cv_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;LAD20CD&quot;</span><span class="p">,</span> <span class="s2">&quot;LAD20NM&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>OBJECTID</th>
      <th>LAD20CD</th>
      <th>LAD20NM</th>
      <th>LAD20NMW</th>
      <th>BNG_E</th>
      <th>BNG_N</th>
      <th>LONG</th>
      <th>LAT</th>
      <th>Shape__Are</th>
      <th>Shape__Len</th>
      <th>geometry</th>
      <th>name</th>
      <th>Median weekly pay (2020 GBP)</th>
      <th>Conf %</th>
      <th>Log median weekly pay (2020 GBP)</th>
      <th>cat_col</th>
      <th>coords</th>
      <th>date</th>
      <th>newDeaths28DaysByDeathDate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>283</td>
      <td>E09000002</td>
      <td>Barking and Dagenham</td>
      <td>None</td>
      <td>547757</td>
      <td>185111</td>
      <td>0.129479</td>
      <td>51.5456</td>
      <td>3.635701e+07</td>
      <td>31245.950962</td>
      <td>POLYGON ((0.16012 51.51178, 0.15874 51.51227, ...</td>
      <td>Barking and Dagenham</td>
      <td>609.1</td>
      <td>5.7</td>
      <td>6.411982</td>
      <td>E</td>
      <td>(0.15149832858865908, 51.555011665187465)</td>
      <td>2020-03-31</td>
      <td>29</td>
    </tr>
    <tr>
      <th>1</th>
      <td>283</td>
      <td>E09000002</td>
      <td>Barking and Dagenham</td>
      <td>None</td>
      <td>547757</td>
      <td>185111</td>
      <td>0.129479</td>
      <td>51.5456</td>
      <td>3.635701e+07</td>
      <td>31245.950962</td>
      <td>POLYGON ((0.16012 51.51178, 0.15874 51.51227, ...</td>
      <td>Barking and Dagenham</td>
      <td>609.1</td>
      <td>5.7</td>
      <td>6.411982</td>
      <td>E</td>
      <td>(0.15149832858865908, 51.555011665187465)</td>
      <td>2020-04-30</td>
      <td>66</td>
    </tr>
    <tr>
      <th>2</th>
      <td>283</td>
      <td>E09000002</td>
      <td>Barking and Dagenham</td>
      <td>None</td>
      <td>547757</td>
      <td>185111</td>
      <td>0.129479</td>
      <td>51.5456</td>
      <td>3.635701e+07</td>
      <td>31245.950962</td>
      <td>POLYGON ((0.16012 51.51178, 0.15874 51.51227, ...</td>
      <td>Barking and Dagenham</td>
      <td>609.1</td>
      <td>5.7</td>
      <td>6.411982</td>
      <td>E</td>
      <td>(0.15149832858865908, 51.555011665187465)</td>
      <td>2020-05-31</td>
      <td>9</td>
    </tr>
    <tr>
      <th>3</th>
      <td>283</td>
      <td>E09000002</td>
      <td>Barking and Dagenham</td>
      <td>None</td>
      <td>547757</td>
      <td>185111</td>
      <td>0.129479</td>
      <td>51.5456</td>
      <td>3.635701e+07</td>
      <td>31245.950962</td>
      <td>POLYGON ((0.16012 51.51178, 0.15874 51.51227, ...</td>
      <td>Barking and Dagenham</td>
      <td>609.1</td>
      <td>5.7</td>
      <td>6.411982</td>
      <td>E</td>
      <td>(0.15149832858865908, 51.555011665187465)</td>
      <td>2020-06-30</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>283</td>
      <td>E09000002</td>
      <td>Barking and Dagenham</td>
      <td>None</td>
      <td>547757</td>
      <td>185111</td>
      <td>0.129479</td>
      <td>51.5456</td>
      <td>3.635701e+07</td>
      <td>31245.950962</td>
      <td>POLYGON ((0.16012 51.51178, 0.15874 51.51227, ...</td>
      <td>Barking and Dagenham</td>
      <td>609.1</td>
      <td>5.7</td>
      <td>6.411982</td>
      <td>E</td>
      <td>(0.15149832858865908, 51.555011665187465)</td>
      <td>2020-07-31</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now we will create the small multiple chart. There’s quite a lot going on in the below so let’s talk through the moving pieces. There’s a perceptually uniform heatmap from the <strong>colorcet</strong> package that ranges between a min of 0 and max of 250 as set by <code class="docutils literal notranslate"><span class="pre">vmin</span></code> and <code class="docutils literal notranslate"><span class="pre">vmax</span></code>. To plot every one of the 12 time periods, <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code> is called with <code class="docutils literal notranslate"><span class="pre">nrows=4</span></code> and <code class="docutils literal notranslate"><span class="pre">ncols=3</span></code> for 12 axes in total. We <code class="docutils literal notranslate"><span class="pre">.flatten()</span></code> the axes to make it easier to iterate over them. We turn the legend off for all but one axis. With all of this set up, we iterate through the unique values of the date column, which is at monthly frequency, and plot each in turn on a separate axis oject. For each, we also add a title that is the month and year.</p>
<p>The overall effect is quite powerful: you can really see how deaths peaked around April 2020 and January 2021, having begun to pick up in November, but you can also see the long period of relatively few deaths 28 days after diagnosis during the summer months.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">colorcet</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cc</span>

<span class="n">col</span> <span class="o">=</span> <span class="s2">&quot;newDeaths28DaysByDeathDate&quot;</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="n">legend_choice</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>
<span class="n">legend_choice</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">date</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()):</span>
    <span class="n">df_cut</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">]</span>
    <span class="n">df_cut</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
        <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
        <span class="n">column</span><span class="o">=</span><span class="n">col</span><span class="p">,</span>
        <span class="n">legend_kwds</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;shrink&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">},</span>
        <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">vmax</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span>
        <span class="n">legend</span><span class="o">=</span><span class="n">legend_choice</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
        <span class="n">cmap</span><span class="o">=</span><span class="n">cc</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">CET_L19</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%B %Y&quot;</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s2">&quot;Coronavirus - deaths within 28 days of diagnosis&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/952fb1eecd050a77076e6aa9b22e67e83e7e6eec892fce7a54037e28ec4483ac.svg" src="_images/952fb1eecd050a77076e6aa9b22e67e83e7e6eec892fce7a54037e28ec4483ac.svg" />
</div>
</div>
<p>Another way to show time and space is using a heatmap. The easiest way to plot a heatmap is to put the data into wide format first. To ensure we have nice labels though, we’re going to cast the datetime variable in a month and year in the format ‘Jan 20’ using <code class="docutils literal notranslate"><span class="pre">strftime()</span></code> first.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%b </span><span class="se">\n</span><span class="s2"> %y&quot;</span><span class="p">))</span>
<span class="n">hmap_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span>
    <span class="n">index</span><span class="o">=</span><span class="s2">&quot;Time&quot;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;LAD20NM&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;newDeaths28DaysByDeathDate&quot;</span>
<span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="c1"># Puts the datetimes in the correct order</span>
<span class="n">hmap_df</span> <span class="o">=</span> <span class="n">hmap_df</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Time&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())]</span>
<span class="n">hmap_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Time</th>
      <th>Mar \n 20</th>
      <th>Apr \n 20</th>
      <th>May \n 20</th>
      <th>Jun \n 20</th>
      <th>Jul \n 20</th>
      <th>Aug \n 20</th>
      <th>Sep \n 20</th>
      <th>Oct \n 20</th>
      <th>Nov \n 20</th>
      <th>Dec \n 20</th>
      <th>Jan \n 21</th>
      <th>Feb \n 21</th>
    </tr>
    <tr>
      <th>LAD20NM</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Barking and Dagenham</th>
      <td>29</td>
      <td>66</td>
      <td>9</td>
      <td>3</td>
      <td>1</td>
      <td>0</td>
      <td>6</td>
      <td>15</td>
      <td>49</td>
      <td>94</td>
      <td>147</td>
      <td>35</td>
    </tr>
    <tr>
      <th>Barnet</th>
      <td>81</td>
      <td>213</td>
      <td>22</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>8</td>
      <td>34</td>
      <td>76</td>
      <td>241</td>
      <td>51</td>
    </tr>
    <tr>
      <th>Bexley</th>
      <td>29</td>
      <td>107</td>
      <td>32</td>
      <td>8</td>
      <td>8</td>
      <td>1</td>
      <td>2</td>
      <td>9</td>
      <td>40</td>
      <td>63</td>
      <td>204</td>
      <td>48</td>
    </tr>
    <tr>
      <th>Brent</th>
      <td>79</td>
      <td>273</td>
      <td>26</td>
      <td>5</td>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>9</td>
      <td>11</td>
      <td>49</td>
      <td>182</td>
      <td>47</td>
    </tr>
    <tr>
      <th>Bromley</th>
      <td>46</td>
      <td>146</td>
      <td>51</td>
      <td>4</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>5</td>
      <td>10</td>
      <td>49</td>
      <td>225</td>
      <td>57</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now we have the data where we want it, we can call the <code class="docutils literal notranslate"><span class="pre">ax.imshow()</span></code> method with a colourmap and set the labels to the index and columns in order to show how, for each London Borough, the number of deaths has changed over time. Note that, unlike the geospatial map, this does not capture the linkages in space very well: but it arguably does a better job of capturing linkages in time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">hmap_df</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cc</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">CET_L19</span><span class="p">)</span>
<span class="n">cbar</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">hmap_df</span><span class="o">.</span><span class="n">columns</span><span class="p">)))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">hmap_df</span><span class="o">.</span><span class="n">index</span><span class="p">)))</span>
<span class="c1"># Labels</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">hmap_df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">hmap_df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ec6bf8d763582315f0ee4d39fc444b491b891c0a8120e74cbb5a33eb38b4ca2e.svg" src="_images/ec6bf8d763582315f0ee4d39fc444b491b891c0a8120e74cbb5a33eb38b4ca2e.svg" />
</div>
</div>
</section>
<section id="using-basemaps">
<h2>Using basemaps<a class="headerlink" href="#using-basemaps" title="Link to this heading">#</a></h2>
<p>All of the examples we’ve seen have just been lines around coloured polygons. This is, fortunately, not how most maps look. Instead, they have lots of detail or other features. Sometimes you want to incorporate other features into your map, or just give some context to where things are beyond the boundaries of your polygons. Enter different basemaps, ie different backgrounds for you to draw the geospatial data on top of.</p>
<p>There are a few options to do this. Let’s begin with <strong>geoplot</strong>, the package from the examples above. It has projection called <code class="docutils literal notranslate"><span class="pre">WebMercator</span></code> that is a ‘real’ map. It’s easiest to illustrate with an example; let’s use Wales again. But the whole point is that we can combine this map with other things, so we’ll do a few points to show where some places are: LLandudno, Cardiff, Rhyll, Newport, and St Davids. St Davids is the smallest city in Britain, and we’ll make the points proportional to population, so you may have to squint to see it!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wales_places</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Cardiff&quot;</span><span class="p">,</span> <span class="s2">&quot;Llandudno&quot;</span><span class="p">,</span> <span class="s2">&quot;Rhyl&quot;</span><span class="p">,</span> <span class="s2">&quot;Newport&quot;</span><span class="p">,</span> <span class="s2">&quot;St Davids&quot;</span><span class="p">],</span>
    <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">51.481583</span><span class="p">,</span> <span class="mf">53.3241</span><span class="p">,</span> <span class="mf">53.3191</span><span class="p">,</span> <span class="mf">51.5842</span><span class="p">,</span> <span class="mf">51.8812</span><span class="p">],</span>
    <span class="s2">&quot;lon&quot;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">3.179090</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.8276</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.4916</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.9977</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.2660</span><span class="p">],</span>
    <span class="s2">&quot;pop&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">335145</span><span class="p">,</span> <span class="mi">20701</span><span class="p">,</span> <span class="mi">25149</span><span class="p">,</span> <span class="mi">145700</span><span class="p">,</span> <span class="mi">1600</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">wdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">wales_places</span><span class="p">)</span>
<span class="n">gwdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">wdf</span><span class="p">,</span> <span class="n">geometry</span><span class="o">=</span><span class="n">gpd</span><span class="o">.</span><span class="n">points_from_xy</span><span class="p">(</span><span class="n">wdf</span><span class="o">.</span><span class="n">lon</span><span class="p">,</span> <span class="n">wdf</span><span class="o">.</span><span class="n">lat</span><span class="p">))</span>
<span class="n">gwdf</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>lat</th>
      <th>lon</th>
      <th>pop</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Cardiff</td>
      <td>51.481583</td>
      <td>-3.17909</td>
      <td>335145</td>
      <td>POINT (-3.17909 51.48158)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Llandudno</td>
      <td>53.324100</td>
      <td>-3.82760</td>
      <td>20701</td>
      <td>POINT (-3.8276 53.3241)</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Rhyl</td>
      <td>53.319100</td>
      <td>-3.49160</td>
      <td>25149</td>
      <td>POINT (-3.4916 53.3191)</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Newport</td>
      <td>51.584200</td>
      <td>-2.99770</td>
      <td>145700</td>
      <td>POINT (-2.9977 51.5842)</td>
    </tr>
    <tr>
      <th>4</th>
      <td>St Davids</td>
      <td>51.881200</td>
      <td>-5.26600</td>
      <td>1600</td>
      <td>POINT (-5.266 51.8812)</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create basemap</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">gplt</span><span class="o">.</span><span class="n">webmap</span><span class="p">(</span><span class="n">df_wales</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">gcrs</span><span class="o">.</span><span class="n">WebMercator</span><span class="p">())</span>
<span class="c1"># Add points for places</span>
<span class="n">gplt</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">gwdf</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sizes</span><span class="o">=</span><span class="n">gwdf</span><span class="p">[</span><span class="s2">&quot;pop&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">300</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0f563d5b1b5125ef14e64a77da5c528f50d1fc1a11947b98d6b44034733f2535.svg" src="_images/0f563d5b1b5125ef14e64a77da5c528f50d1fc1a11947b98d6b44034733f2535.svg" />
</div>
</div>
<section id="contextily">
<h3>Contextily<a class="headerlink" href="#contextily" title="Link to this heading">#</a></h3>
<p><strong>geoplot</strong> has some basic functionality for basemaps but the <a class="reference external" href="https://contextily.readthedocs.io/en/latest/intro_guide.html"><strong>contextlily</strong></a> package provides a whole lot more flexibility and is solely focused on different ‘context tiles’ for your map. It’s also designed to work with <strong>geopandas</strong> (it’s built by the same people) and the syntax is quite similar to what you’ve seen already.</p>
<p>Let’s see an example of it in action. We’ll ask for a bounding box around a place we’re interested in, London’s Canary Wharf. The option that brings in different basemaps is the <code class="docutils literal notranslate"><span class="pre">source=</span></code> keyword argument. There are a range of sources of basemaps but the real magic is that, given a location, <strong>contextily</strong> <em>downloads a background map for you</em>. Pretty cool. There is a full list of providers <a class="reference external" href="https://contextily.readthedocs.io/en/latest/providers_deepdive.html">here</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">contextily</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cx</span>

<span class="n">west</span><span class="p">,</span> <span class="n">south</span><span class="p">,</span> <span class="n">east</span><span class="p">,</span> <span class="n">north</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.030251</span><span class="p">,</span> <span class="mf">51.499019</span><span class="p">,</span> <span class="mf">0.002017</span><span class="p">,</span> <span class="mf">51.509511</span><span class="p">)</span>

<span class="n">cw_img</span><span class="p">,</span> <span class="n">cw_ext</span> <span class="o">=</span> <span class="n">cx</span><span class="o">.</span><span class="n">bounds2img</span><span class="p">(</span>
    <span class="n">west</span><span class="p">,</span> <span class="n">south</span><span class="p">,</span> <span class="n">east</span><span class="p">,</span> <span class="n">north</span><span class="p">,</span> <span class="n">ll</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">cx</span><span class="o">.</span><span class="n">providers</span><span class="o">.</span><span class="n">OpenStreetMap</span><span class="o">.</span><span class="n">Mapnik</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Because the map gets downloaded when you make this request, it takes a long time the first time it’s run. But the map is locally cached so that, if you call the same function again, it will be much faster the second time. Let’s plot the map out:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cw_img</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="n">cw_ext</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/86b6dfa666db5515de3a570273fdad22de75afa2ecba5b72e40f95c863d55563.svg" src="_images/86b6dfa666db5515de3a570273fdad22de75afa2ecba5b72e40f95c863d55563.svg" />
</div>
</div>
<p>You can also get a map through a text search, though be warned you may get another place with the same name in a different region. You can do this type of map-grab using <code class="docutils literal notranslate"><span class="pre">cx.Place(&quot;...&quot;,</span> <span class="pre">source=...)</span></code>.</p>
<p>Okay, it’s great to download a map but what about combining it with some useful info? Well, we can do that too. Let’s use <a class="reference external" href="https://github.com/gboeing/osmnx"><strong>osmnx</strong></a> (<span id="id1">Boeing [<a class="reference internal" href="zreferences.html#id13" title="Geoff Boeing. Osmnx: new methods for acquiring, constructing, analyzing, and visualizing complex street networks. Computers, Environment and Urban Systems, 65:126–139, 2017.">2017</a>]</span>) to get some data on coffee shops in an area more tightly focused around Canary Wharf. We’ll then pop these onto a map of the area.</p>
<p>Note that, in the below, <code class="docutils literal notranslate"><span class="pre">which_result=1</span></code> ensures that the returned object is based on what Open Street Map calls “ways” (eg specific amenities) rather than a polygon (eg a boundary).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">osmnx</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ox</span>

<span class="n">coffee_shops</span> <span class="o">=</span> <span class="n">ox</span><span class="o">.</span><span class="n">features_from_address</span><span class="p">(</span>
    <span class="s2">&quot;Canary Wharf, London, UK&quot;</span><span class="p">,</span>
    <span class="n">tags</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;amenity&quot;</span><span class="p">:</span> <span class="s2">&quot;cafe&quot;</span><span class="p">},</span>
    <span class="n">dist</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">coffee_shops</span> <span class="o">=</span> <span class="n">coffee_shops</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="s2">&quot;EPSG:3857&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="n">coffee_shops</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="n">cx</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span>
    <span class="n">ax</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="n">coffee_shops</span><span class="o">.</span><span class="n">crs</span><span class="o">.</span><span class="n">to_string</span><span class="p">(),</span> <span class="n">source</span><span class="o">=</span><span class="n">cx</span><span class="o">.</span><span class="n">providers</span><span class="o">.</span><span class="n">OpenStreetMap</span><span class="o">.</span><span class="n">Mapnik</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0049fc9f0a7d08a0e0629826ac95944a27a0a1b3da7df317cf4288b62cc8e744.svg" src="_images/0049fc9f0a7d08a0e0629826ac95944a27a0a1b3da7df317cf4288b62cc8e744.svg" />
</div>
</div>
<p>You can also add boundary and polygon objects to <strong>contextily</strong> basemaps.</p>
</section>
</section>
<section id="interactive-maps">
<h2>Interactive maps<a class="headerlink" href="#interactive-maps" title="Link to this heading">#</a></h2>
<p>We’ll use <a class="reference external" href="https://python-visualization.github.io/folium/index.html"><strong>folium</strong></a>, a wrapper for the leaflet javascript library, to create interactive maps that we can layer information on top of. The library has a number of built-in tilesets from OpenStreetMap, Mapbox, and Stamen, and supports custom tilesets too. If it has a disadvantage, it’s that it doesn’t play that nicely with <strong>geopandas</strong>. It isn’t easy to create an interactive choropleth using a <strong>geopandas</strong> dataframe, for example. However, choropleths can be added as a layer from a URL that points to a geoJSON file.</p>
<p>In the simple example below, we’ll do two things: create a basemap showing the City of London and add some markers to it that show new information on a mouse hover and when clicked. Let’s put markers down for the places to get coffee in the serenity of a City church.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">folium</span>

<span class="c1"># create data for markers</span>
<span class="n">caff_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Host Coffee&quot;</span><span class="p">,</span> <span class="s2">&quot;Cosy Coffee Corner&quot;</span><span class="p">,</span> <span class="s2">&quot;The Wren Coffee&quot;</span><span class="p">],</span>
        <span class="s2">&quot;loc&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">51.5128</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0933</span><span class="p">],</span> <span class="p">[</span><span class="mf">51.5128</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0882</span><span class="p">],</span> <span class="p">[</span><span class="mf">51.512106</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.096870</span><span class="p">]],</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="c1"># create hover over marker msg</span>
<span class="n">tooltip</span> <span class="o">=</span> <span class="s2">&quot;Click here.&quot;</span>

<span class="c1"># create map</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="mf">51.5128</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0933</span><span class="p">],</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="c1"># add markers to map</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">caff_df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">folium</span><span class="o">.</span><span class="n">Marker</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;loc&quot;</span><span class="p">],</span> <span class="n">popup</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">tooltip</span><span class="o">=</span><span class="n">tooltip</span><span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1"># show map</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_f8953fe28cedeb897ed7e7a048d48fd8 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_f8953fe28cedeb897ed7e7a048d48fd8&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_f8953fe28cedeb897ed7e7a048d48fd8 = L.map(
                &quot;map_f8953fe28cedeb897ed7e7a048d48fd8&quot;,
                {
                    center: [51.5128, -0.0933],
                    crs: L.CRS.EPSG3857,
                    ...{
  &quot;zoom&quot;: 16,
  &quot;zoomControl&quot;: true,
  &quot;preferCanvas&quot;: false,
}

                }
            );

            

        
    
            var tile_layer_071e06d16da44c4ddd9c4894de39572a = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {
  &quot;minZoom&quot;: 0,
  &quot;maxZoom&quot;: 19,
  &quot;maxNativeZoom&quot;: 19,
  &quot;noWrap&quot;: false,
  &quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;,
  &quot;subdomains&quot;: &quot;abc&quot;,
  &quot;detectRetina&quot;: false,
  &quot;tms&quot;: false,
  &quot;opacity&quot;: 1,
}

            );
        
    
            tile_layer_071e06d16da44c4ddd9c4894de39572a.addTo(map_f8953fe28cedeb897ed7e7a048d48fd8);
        
    
            var marker_f0ffaf100ffc981bb049c74ce6c32da6 = L.marker(
                [51.5128, -0.0933],
                {
}
            ).addTo(map_f8953fe28cedeb897ed7e7a048d48fd8);
        
    
        var popup_2a3e7e5b2378ad87069230110c0f231b = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_25c858de2319b372cfff08b00a88adb2 = $(`&lt;div id=&quot;html_25c858de2319b372cfff08b00a88adb2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Host Coffee&lt;/div&gt;`)[0];
                popup_2a3e7e5b2378ad87069230110c0f231b.setContent(html_25c858de2319b372cfff08b00a88adb2);
            
        

        marker_f0ffaf100ffc981bb049c74ce6c32da6.bindPopup(popup_2a3e7e5b2378ad87069230110c0f231b)
        ;

        
    
    
            marker_f0ffaf100ffc981bb049c74ce6c32da6.bindTooltip(
                `&lt;div&gt;
                     Click here.
                 &lt;/div&gt;`,
                {
  &quot;sticky&quot;: true,
}
            );
        
    
            var marker_fab2e3592e2907a7385d02f79031b29a = L.marker(
                [51.5128, -0.0882],
                {
}
            ).addTo(map_f8953fe28cedeb897ed7e7a048d48fd8);
        
    
        var popup_4c6ddaf22d4180aed9c75f8e44b1b35a = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_ad9b7ef11213e6cd6380cafd10595de8 = $(`&lt;div id=&quot;html_ad9b7ef11213e6cd6380cafd10595de8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Cosy Coffee Corner&lt;/div&gt;`)[0];
                popup_4c6ddaf22d4180aed9c75f8e44b1b35a.setContent(html_ad9b7ef11213e6cd6380cafd10595de8);
            
        

        marker_fab2e3592e2907a7385d02f79031b29a.bindPopup(popup_4c6ddaf22d4180aed9c75f8e44b1b35a)
        ;

        
    
    
            marker_fab2e3592e2907a7385d02f79031b29a.bindTooltip(
                `&lt;div&gt;
                     Click here.
                 &lt;/div&gt;`,
                {
  &quot;sticky&quot;: true,
}
            );
        
    
            var marker_c9089e1e8e534fc8c17ce2d78f1b1280 = L.marker(
                [51.512106, -0.09687],
                {
}
            ).addTo(map_f8953fe28cedeb897ed7e7a048d48fd8);
        
    
        var popup_308c3b07a8a032d5b1411b8ef108666e = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_2f4730bf6b1247aa20f23f094634e79f = $(`&lt;div id=&quot;html_2f4730bf6b1247aa20f23f094634e79f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;The Wren Coffee&lt;/div&gt;`)[0];
                popup_308c3b07a8a032d5b1411b8ef108666e.setContent(html_2f4730bf6b1247aa20f23f094634e79f);
            
        

        marker_c9089e1e8e534fc8c17ce2d78f1b1280.bindPopup(popup_308c3b07a8a032d5b1411b8ef108666e)
        ;

        
    
    
            marker_c9089e1e8e534fc8c17ce2d78f1b1280.bindTooltip(
                `&lt;div&gt;
                     Click here.
                 &lt;/div&gt;`,
                {
  &quot;sticky&quot;: true,
}
            );
        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Folium can also be combined with a choropleth; see the <a class="reference external" href="https://python-visualization.github.io/folium/quickstart.html#">documentation</a> for more information.</p>
<section id="livemap-in-lets-plot">
<h3>Livemap in Lets-Plot<a class="headerlink" href="#livemap-in-lets-plot" title="Link to this heading">#</a></h3>
<p>The <a class="reference external" href="https://lets-plot.org/"><strong>Lets-Plot</strong></a> package also provides a way to create interactive maps.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">ggplot</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">geom_livemap</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">geom_map</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="n">data</span><span class="o">=</span><span class="n">df_wales</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">   <div id="ccooA5"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
   
   (function() {
   // ----------
   
   const forceImmediateRender = false;
   const responsive = false;
   
   let sizing = {
       width_mode: "MIN",
       height_mode: "SCALED",
       width: null, 
       height: null 
   };
   
   const preferredWidth = document.body.dataset.letsPlotPreferredWidth;
   if (preferredWidth !== undefined) {
       sizing = {
           width_mode: 'FIXED',
           height_mode: 'SCALED',
           width: parseFloat(preferredWidth)
       };
   }
   
   const containerDiv = document.getElementById("ccooA5");
   let fig = null;
   
   function renderPlot() {
       if (fig === null) {
           const plotSpec = {
"mapping":{
},
"data_meta":{
},
"kind":"plot",
"scales":[],
"layers":[{
"geom":"livemap",
"mapping":{
},
"data_meta":{
},
"tiles":{
"kind":"vector_lets_plot",
"url":"wss://tiles.datalore.jetbrains.com",
"theme":"color",
"attribution":"<a href=\"https://lets-plot.org\">© Lets-Plot</a>, map data: <a href=\"https://www.openstreetmap.org/copyright\">© OpenStreetMap contributors</a>."
},
"geocoding":{
"url":"https://geo2.datalore.jetbrains.com/map_data/geocoding"
},
"data":{
}
},{
"geom":"map",
"data":{
"geometry":["{\"type\": \"MultiPolygon\", \"coordinates\": [[[[-4.643979673512181, 53.320429862140934], [-4.648200180748194, 53.31866682694046], [-4.627708322209287, 53.314464422798146], [-4.625302648508245, 53.31814038567288], [-4.625233710093412, 53.31813192902561], [-4.631356750743975, 53.307825812578145], [-4.620894957949324, 53.312656636438646], [-4.620448107115893, 53.31233572440449], [-4.611191105362995, 53.302780087565225], [-4.5849827665498495, 53.30117915065754], [-4.583786023287343, 53.290192626694676], [-4.5869371992820955, 53.28888338239643], [-4.60989767878438, 53.279338945018296], [-4.598015857371569, 53.28273185161231], [-4.597359562604781, 53.274374379943744], [-4.5764162365377965, 53.27242766926453], [-4.584510698498828, 53.263249487726085], [-4.561834357276034, 53.263998077714504], [-4.572686216883504, 53.26161526825656], [-4.556716808415278, 53.24566788396351], [-4.567396795683408, 53.24388220298822], [-4.597032237592271, 53.24040777413261], [-4.600747567595897, 53.241600333616695], [-4.610510871713524, 53.24544401656874], [-4.612349622561133, 53.2482844719283], [-4.608517351123205, 53.25591258239598], [-4.6255745496502225, 53.26928214268272], [-4.617284887839647, 53.27914650583654], [-4.64999568580328, 53.28749749943772], [-4.651598335170673, 53.28790633562297], [-4.652704805991838, 53.28743721791629], [-4.655757384468619, 53.28614289038101], [-4.6777108296710885, 53.28277047953329], [-4.6827629409213465, 53.28351091513841], [-4.680180519721443, 53.29433984086416], [-4.677730183057674, 53.29829320935668], [-4.696215516610055, 53.30714531186503], [-4.682152280664336, 53.32264647661944], [-4.6619289618470505, 53.318882515376366], [-4.623609979944601, 53.32957232462112], [-4.647259241770854, 53.320831551736234], [-4.643979673512181, 53.320429862140934]]], [[[-4.40937377684566, 53.42365878254359], [-4.402575239354773, 53.42092208236606], [-4.3681998833151, 53.42405885692676], [-4.356363410106793, 53.41421452156484], [-4.33879568291913, 53.419605492810646], [-4.334388634583524, 53.413283935900495], [-4.3265633799857754, 53.41764623580517], [-4.305214625574496, 53.41383014129676], [-4.293014555710116, 53.411071503034435], [-4.290022694321762, 53.41420888513122], [-4.2872306897541455, 53.41691736756582], [-4.269379403090647, 53.390547332185655], [-4.295692074115819, 53.36462315077129], [-4.2763565578943465, 53.37106196346946], [-4.279991270497959, 53.376092099743346], [-4.264776726779398, 53.360811758892666], [-4.230062697228493, 53.35774990440673], [-4.233852179515025, 53.34062242965928], [-4.219101927361376, 53.3190213743692], [-4.204259009745638, 53.313809661620205], [-4.214511203581828, 53.29879829598336], [-4.210777906635981, 53.29645355487735], [-4.204079203969902, 53.29224540733424], [-4.182094376696823, 53.29698206682412], [-4.143348397649245, 53.30531757767844], [-4.119701030999067, 53.31918594597276], [-4.1030985033359055, 53.317399387941], [-4.040161881208795, 53.310604509448076], [-4.044487994142759, 53.306617242475994], [-4.081735844518701, 53.27525851288385], [-4.0822704983513125, 53.2717562019848], [-4.097903322833623, 53.25731246851441], [-4.115946126149659, 53.24930978653613], [-4.159236111866994, 53.233893075605664], [-4.170837412475448, 53.225155367614924], [-4.202773058234426, 53.21575024480921], [-4.203988547747549, 53.21342710671883], [-4.205002485577134, 53.21306915681348], [-4.212704671711139, 53.19676067567164], [-4.218526486478816, 53.18562117074745], [-4.317675250418525, 53.144150265649586], [-4.318609093495527, 53.14998101201363], [-4.334410043750365, 53.14895824701656], [-4.330926940479825, 53.165617754201584], [-4.340118022508307, 53.14858825494602], [-4.336188593098956, 53.147537527906756], [-4.337571097970822, 53.14278449361593], [-4.35502725461408, 53.1344157994804], [-4.328944197196136, 53.12665556122348], [-4.393664829601449, 53.143658532946056], [-4.394257690649152, 53.14381409433297], [-4.395752502134682, 53.14430335696704], [-4.395870461628305, 53.14423724910735], [-4.398687913836912, 53.14497641308752], [-4.413532355810953, 53.13631387645171], [-4.410053935423083, 53.14155161695333], [-4.407580078237873, 53.14434290044602], [-4.419793746711298, 53.16381733880154], [-4.395055724469652, 53.168645730831635], [-4.389592092052202, 53.169711318872935], [-4.385060265305375, 53.19135793718425], [-4.385015169996159, 53.19157323158386], [-4.39614068627624, 53.18810617368292], [-4.396862722997613, 53.18788110984058], [-4.443503520377605, 53.155050239457225], [-4.443579107295642, 53.155035166838616], [-4.466137435049975, 53.18336958420998], [-4.460094295107007, 53.19462450384553], [-4.4667878111254655, 53.18418586525336], [-4.466735365049324, 53.18225563352013], [-4.4864498832768405, 53.17720861917071], [-4.487781211093902, 53.183898940623855], [-4.487506867182427, 53.18512674035914], [-4.488038029111258, 53.18518925947715], [-4.488320006890516, 53.18660589266964], [-4.504223792569415, 53.18710670038075], [-4.497342403942096, 53.20722594872004], [-4.523886097380348, 53.226500667253994], [-4.523526930666486, 53.23195740898896], [-4.521818251145186, 53.23199221310455], [-4.512736905344596, 53.23861802492387], [-4.523156890817559, 53.23757839222602], [-4.523485756338874, 53.232582903432444], [-4.5358962087729475, 53.236977881124595], [-4.555476798085359, 53.24967577214271], [-4.554232682822947, 53.267633329373915], [-4.560337670537094, 53.26454904219398], [-4.58861531287293, 53.281282767249245], [-4.576182991445505, 53.28601434101657], [-4.581193353977938, 53.28900781077815], [-4.583510090921503, 53.29039174333637], [-4.578838120326209, 53.289058875817695], [-4.574790571974614, 53.28790393341064], [-4.572078848736364, 53.289205170174256], [-4.529724728218454, 53.30951077057597], [-4.563142579097155, 53.299443519302166], [-4.562363524287429, 53.3167515517234], [-4.57923105630154, 53.324075575893005], [-4.582164073138923, 53.32697766042796], [-4.577825797546235, 53.334486592774454], [-4.571161713870289, 53.337519981755584], [-4.561241232716902, 53.363167028684586], [-4.55512461515309, 53.3737347588626], [-4.574112486132428, 53.40346924182387], [-4.564653330985072, 53.40421203610947], [-4.529797689048911, 53.4060599894449], [-4.510813802509103, 53.41652333482583], [-4.510081728635733, 53.41556547690215], [-4.5094755674689955, 53.409413046275546], [-4.505673783108071, 53.40979700912433], [-4.505264627467075, 53.40926147677275], [-4.50380648529562, 53.409985551618284], [-4.491921079205104, 53.41118491288402], [-4.478120640759626, 53.422232813591734], [-4.450208302102999, 53.41289384334457], [-4.450440839913704, 53.4159766296865], [-4.450300829936526, 53.423052231397776], [-4.431466285714493, 53.428284122304966], [-4.425045608792793, 53.42996451506404], [-4.40937377684566, 53.42365878254359]]]]}","{\"type\": \"MultiPolygon\", \"coordinates\": [[[[-4.780223401133184, 52.75899009838671], [-4.8016522805045705, 52.74508143523096], [-4.7934283321139395, 52.76849574611344], [-4.77989783258069, 52.766094546485085], [-4.780223401133184, 52.75899009838671]]], [[[-4.20942650258673, 53.203030538840224], [-4.2094794780118745, 53.20292923244816], [-4.209476316926851, 53.20299461329729], [-4.20942650258673, 53.203030538840224]]], [[[-3.998200865062588, 53.24838726043094], [-3.979354867931922, 53.231890734746536], [-3.935292830993712, 53.21487480139694], [-3.9390474061792875, 53.200111030972714], [-3.964974944998904, 53.18339010334967], [-3.9703289175512375, 53.16018626866103], [-4.008626326247513, 53.14268276858631], [-4.020119348208641, 53.12482187104363], [-3.9954903682208447, 53.12503416451716], [-4.0210140591028445, 53.1245864784234], [-4.031337850739399, 53.10564733963189], [-4.014102898661556, 53.10355591399346], [-4.013597717330488, 53.08970545466531], [-3.9866750629394057, 53.08420172242516], [-3.991322975289274, 53.07649373795047], [-3.977062252620967, 53.0689330943124], [-3.9972137927972025, 53.037651397376706], [-3.9854236198622375, 53.010653148266066], [-3.8989363703151105, 53.020566902025685], [-3.887810828159045, 53.01158819513794], [-3.896559804657746, 52.99489828496554], [-3.849374728012955, 52.97732458198691], [-3.841033683103325, 52.96229699201508], [-3.813223986100984, 52.94937179780859], [-3.7697227470288137, 52.959303986954545], [-3.7353419916380353, 52.979850503069684], [-3.683025797361807, 52.986843875555856], [-3.6729501473923136, 52.99705160435833], [-3.615321552994969, 53.01135006377207], [-3.5996217005695774, 53.01169003269859], [-3.610788520350815, 52.99601411303631], [-3.582989875137568, 52.96753718963759], [-3.533808674735829, 52.973685958672206], [-3.5045420248121695, 52.96535041154776], [-3.4579820112892605, 52.984888257872456], [-3.436785667992146, 52.98084825347494], [-3.448745429322586, 52.973827417283715], [-3.4467134803502084, 52.963237557697], [-3.4914286137517427, 52.933686213345126], [-3.4651156225264526, 52.920269509595784], [-3.489967878842356, 52.89578938919934], [-3.473562340525509, 52.87126744769981], [-3.4830125967512022, 52.86545360249677], [-3.505285660290027, 52.841956694289074], [-3.5666730820160284, 52.8300796372145], [-3.568170403360528, 52.82289548103917], [-3.586476349913803, 52.827717298015344], [-3.5970584701196575, 52.8140539518038], [-3.608713273326971, 52.79402160516941], [-3.58351431112062, 52.738622865814634], [-3.5992945022016136, 52.72588190797386], [-3.602017335590641, 52.70498614633968], [-3.6563751908031876, 52.69137259839999], [-3.683927844758701, 52.69385781592269], [-3.709367791705932, 52.67108242971637], [-3.716759884604048, 52.67877865620859], [-3.7439075880812687, 52.6813087319443], [-3.7593517397587726, 52.66944633725365], [-3.808095770423673, 52.67794532780919], [-3.840714243912904, 52.65090283362978], [-3.8346141784712144, 52.633058697726554], [-3.8504500943888265, 52.620635843008536], [-3.841883789595346, 52.59985542526377], [-3.875271385604205, 52.59292797976531], [-3.8837800473727846, 52.57713496451174], [-3.9153548260377975, 52.57858944319713], [-3.92885351937948, 52.571460616101305], [-3.926609507108724, 52.560767030383126], [-3.932931618249112, 52.552978278981165], [-3.94179680712868, 52.55781891209395], [-3.941632503414858, 52.55795465683933], [-3.9398210597936574, 52.560699688808654], [-3.960486917176268, 52.56066642370709], [-4.064388865789839, 52.54140332827876], [-4.065878884234613, 52.542989102223345], [-4.099922758006787, 52.57918369395351], [-4.126517556771908, 52.60740918155947], [-4.128602320974037, 52.611734627659665], [-4.095008844210348, 52.66838425429762], [-4.07232919898326, 52.679774855616216], [-4.057305607310965, 52.68731466805687], [-4.0498391007219, 52.71539511079325], [-4.051440430930435, 52.703766127570866], [-4.016235530031589, 52.7206156682936], [-4.011500386517679, 52.71313637898963], [-3.989167007542279, 52.73607647298342], [-4.023204307719244, 52.7361015531926], [-4.0362456653323076, 52.72106868370922], [-4.058930000175505, 52.71781922523225], [-4.074881297455217, 52.73359273574976], [-4.100601715364152, 52.75899732071694], [-4.150601068409375, 52.80827986881602], [-4.135041559958611, 52.82368594471799], [-4.133858887596465, 52.82422755108156], [-4.139612104839273, 52.815463701999036], [-4.11868222437344, 52.83028949954201], [-4.107925409003072, 52.8266453412679], [-4.11489435458101, 52.83209448780071], [-4.129023195477968, 52.827083111301015], [-4.12848576417099, 52.82871365956651], [-4.118968106467014, 52.84795888109677], [-4.145247560036687, 52.893746351781324], [-4.086480195085235, 52.901961387196124], [-4.082957785762883, 52.900248660284326], [-4.082840226784081, 52.90032494724091], [-4.06863273871238, 52.90954177220258], [-4.083023560690054, 52.90414309055504], [-4.085563712100289, 52.90318984957053], [-4.083098716768211, 52.9057090476689], [-4.073785349349871, 52.9152242425325], [-4.071849840348594, 52.91703742780601], [-4.059069928270471, 52.916008948225645], [-4.047658560963771, 52.92687931196265], [-4.076771612266543, 52.92274130615196], [-4.083743831662248, 52.91914578463627], [-4.103535428672644, 52.90893405428954], [-4.119187015453074, 52.91897700566382], [-4.1103976763437045, 52.91997939817789], [-4.128632885521513, 52.921902546976455], [-4.126633194612205, 52.92911798718376], [-4.152059404110142, 52.90636195412196], [-4.219099452745244, 52.91910791760356], [-4.22498294757672, 52.917963095977804], [-4.227569499822517, 52.91845524218418], [-4.236915255352528, 52.91564022078645], [-4.26127610519886, 52.91089338926844], [-4.284722835296599, 52.91715219608705], [-4.263835183296506, 52.91059738327911], [-4.316314135328295, 52.908691851744706], [-4.3266541470458595, 52.8919511761912], [-4.379956269049808, 52.895391575468196], [-4.387202853840664, 52.89585742168581], [-4.389090674117271, 52.89448751417086], [-4.397677998050118, 52.89169284494823], [-4.397642758392419, 52.88828019247663], [-4.403295491013698, 52.88417596982194], [-4.407382480610744, 52.891735844845535], [-4.41512604441086, 52.88523047846944], [-4.397581835807358, 52.88237759716404], [-4.3975801997755255, 52.88221899387594], [-4.442523899737348, 52.87565677156799], [-4.450405313865682, 52.87148857516776], [-4.459949767745736, 52.86963015348614], [-4.467158607922046, 52.8626239926753], [-4.476512587313962, 52.85767199102391], [-4.470329049458023, 52.84782908489855], [-4.470937149841587, 52.84744143618366], [-4.496380811995089, 52.83260862608646], [-4.496064792211261, 52.83141461267635], [-4.506154382510929, 52.82497457121157], [-4.497376122007945, 52.82565864866444], [-4.49985833147992, 52.812271650305846], [-4.489873690333035, 52.80800882766125], [-4.486444394936539, 52.79503251636034], [-4.486514948781666, 52.79481595544812], [-4.51485102207461, 52.79296685294001], [-4.528027880275086, 52.777702710209375], [-4.542573649700054, 52.78648883103394], [-4.536182947660259, 52.80028078301006], [-4.60147309008352, 52.82494701014175], [-4.604769835211476, 52.82300228442655], [-4.612546522307048, 52.8226121060694], [-4.642617588900692, 52.80065761740971], [-4.644011080405061, 52.79983426153996], [-4.661304798506938, 52.80615675612561], [-4.664365452032217, 52.804770049183226], [-4.665610389475404, 52.805086863660186], [-4.677332606107703, 52.79889311639362], [-4.688441902658727, 52.79385581919756], [-4.720903375077821, 52.802819827156625], [-4.732322396498486, 52.781854360690865], [-4.733627301544046, 52.78237439040803], [-4.7669364209453775, 52.796709308176304], [-4.722537558377654, 52.83626893652553], [-4.726164689169578, 52.85351170831425], [-4.6960650366176, 52.85945874395338], [-4.678017187481835, 52.8776867396152], [-4.668827083413474, 52.88007613267727], [-4.650939808372739, 52.905001199297644], [-4.649764110067488, 52.90618629544309], [-4.649699130958511, 52.90618693261342], [-4.632156745762989, 52.90596785855408], [-4.615149205650754, 52.92376799866486], [-4.599910827899027, 52.928937701727115], [-4.570571052551092, 52.93888250667091], [-4.5674479286706715, 52.948546903311616], [-4.560081798848998, 52.9377275946752], [-4.519598823286123, 52.940319285050954], [-4.471590093964947, 52.96673901848082], [-4.437504685303636, 52.99831903684291], [-4.427861082269204, 52.998470110174914], [-4.410158475943797, 52.99802224291261], [-4.386417127412913, 53.01286326382428], [-4.353855265829798, 53.033194122031546], [-4.352048652270013, 53.037953579152045], [-4.340662163975436, 53.05199988980872], [-4.338328034495846, 53.07406627702936], [-4.336402311714787, 53.07913000840921], [-4.346527523161495, 53.114039124672914], [-4.346596302890993, 53.11427604793202], [-4.338910169125627, 53.121370432077356], [-4.324404832004641, 53.121633814301056], [-4.3241125414585895, 53.12176205111658], [-4.319615760148599, 53.12148536850472], [-4.333245635041013, 53.11429980897112], [-4.333831671100851, 53.113990769177796], [-4.319327131855695, 53.092796012474984], [-4.305835599796061, 53.10786745448432], [-4.313777349695799, 53.10663099689177], [-4.313033078311977, 53.11469501269982], [-4.311885357777147, 53.127125186400214], [-4.305691593151826, 53.12984094301169], [-4.28314570816562, 53.13948915117107], [-4.273622544545291, 53.13280992383273], [-4.277427387147115, 53.14269029893167], [-4.263842347958819, 53.154401817770825], [-4.243632061394716, 53.170457996634156], [-4.2121074748915515, 53.18318716298537], [-4.211371183777473, 53.18473061400729], [-4.210337933689716, 53.185165700263084], [-4.210244895368758, 53.18709138245221], [-4.199318705277041, 53.20997969317342], [-4.167004054363049, 53.22136857383703], [-4.1598334090341975, 53.22389398813071], [-4.122372062644332, 53.23707463428189], [-4.1144717403913615, 53.23140717874219], [-4.113244544752471, 53.23688263665363], [-4.106263953983235, 53.2323293430136], [-4.099027929114025, 53.234411789931414], [-4.091083718354774, 53.2366973074135], [-4.0855745112675015, 53.22564738716198], [-4.00738850226276, 53.24692363232345], [-4.007300961983747, 53.24682198256026], [-3.998200865062588, 53.24838726043094]]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-3.5051847211722444, 53.31354004777163], [-3.4964818044212014, 53.30227314833973], [-3.52191953764585, 53.2833926790567], [-3.518338223527254, 53.256373717604255], [-3.5330787178605654, 53.24886906672441], [-3.526343548414694, 53.24042336565057], [-3.5091999409559365, 53.24164595080421], [-3.466024716191705, 53.220781122582345], [-3.4744588224310466, 53.176372356118854], [-3.4610140734260533, 53.16499402050294], [-3.5340720376938384, 53.13994773996442], [-3.563343219397155, 53.11948445711093], [-3.5559542116890612, 53.10666975377924], [-3.6016181014491795, 53.085210088727365], [-3.593057783265095, 53.07845569055187], [-3.5649308854492445, 53.09465565694773], [-3.5157104307814224, 53.089799008964015], [-3.509866758719343, 53.07635343037948], [-3.4869291991041953, 53.08404986089302], [-3.4868881467787256, 53.065923323461604], [-3.4626093413198555, 53.04621121604695], [-3.4896583477853147, 53.03785907272429], [-3.476274946214216, 53.02642006743978], [-3.481184496645337, 53.018522575345685], [-3.454591613820795, 52.99792581549886], [-3.4579820112892605, 52.984888257872456], [-3.5045420248121695, 52.96535041154776], [-3.533808674735829, 52.973685958672206], [-3.582989875137568, 52.96753718963759], [-3.610788520350815, 52.99601411303631], [-3.5996217005695774, 53.01169003269859], [-3.615321552994969, 53.01135006377207], [-3.6729501473923136, 52.99705160435833], [-3.683025797361807, 52.986843875555856], [-3.7353419916380353, 52.979850503069684], [-3.7697227470288137, 52.959303986954545], [-3.813223986100984, 52.94937179780859], [-3.841033683103325, 52.96229699201508], [-3.849374728012955, 52.97732458198691], [-3.896559804657746, 52.99489828496554], [-3.887810828159045, 53.01158819513794], [-3.8989363703151105, 53.020566902025685], [-3.9854236198622375, 53.010653148266066], [-3.9972137927972025, 53.037651397376706], [-3.977062252620967, 53.0689330943124], [-3.991322975289274, 53.07649373795047], [-3.9866750629394057, 53.08420172242516], [-4.013597717330488, 53.08970545466531], [-4.014102898661556, 53.10355591399346], [-4.031337850739399, 53.10564733963189], [-4.0210140591028445, 53.1245864784234], [-3.9954903682208447, 53.12503416451716], [-4.020119348208641, 53.12482187104363], [-4.008626326247513, 53.14268276858631], [-3.9703289175512375, 53.16018626866103], [-3.964974944998904, 53.18339010334967], [-3.9390474061792875, 53.200111030972714], [-3.935292830993712, 53.21487480139694], [-3.979354867931922, 53.231890734746536], [-3.998200865062588, 53.24838726043094], [-4.007300961983747, 53.24682198256026], [-4.00738850226276, 53.24692363232345], [-3.98348597420163, 53.259471431946096], [-3.8447926551230007, 53.29467901402366], [-3.826390334131025, 53.281381872089916], [-3.8300522527683025, 53.28617836790206], [-3.8229515307618493, 53.280438184393184], [-3.8354704784511, 53.30282146411529], [-3.844509682843078, 53.31896728273309], [-3.8753036359181388, 53.337279866185966], [-3.8729467021149917, 53.33927235237483], [-3.833007228221999, 53.338027280801086], [-3.818805176846331, 53.322791365818055], [-3.803143912780245, 53.32476985934371], [-3.775222506356993, 53.32829160574064], [-3.7750496255849506, 53.32823674889629], [-3.764871933077907, 53.31884210303344], [-3.7391099000200714, 53.31413547080207], [-3.7341358595348133, 53.304338473803696], [-3.7321178504084527, 53.30036237626008], [-3.706901656464419, 53.29373833064398], [-3.6058090078706235, 53.290837226997375], [-3.5475027415491276, 53.30690697538414], [-3.511449927072087, 53.31682318557483], [-3.5086411442371803, 53.313555596909715], [-3.506175297794758, 53.31068648073559], [-3.5051847211722444, 53.31354004777163]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-3.1296166228252926, 53.07236808469595], [-3.1477905556811523, 53.04380725634222], [-3.1308905480645888, 53.023876400235224], [-3.148765600584498, 52.99857708128038], [-3.1205516537406495, 52.98554511172802], [-3.122288593128916, 52.97676014188103], [-3.105179294706564, 52.97337230236709], [-3.1112810032428166, 52.96938860921631], [-3.0902953743603923, 52.971619346843], [-3.092148757268576, 52.964275598895455], [-3.1107003141103537, 52.961724931397626], [-3.096726289737288, 52.95924775384821], [-3.1979750461609684, 52.94420625258185], [-3.237440642684436, 52.951012630910874], [-3.2974019064889575, 52.9429669504129], [-3.314307925911306, 52.94680144427517], [-3.324340556111148, 52.93184397044321], [-3.353315573952586, 52.92197169273714], [-3.348875567073978, 52.91633240839961], [-3.3750150151581653, 52.8924534179977], [-3.3888237413987206, 52.87607009142006], [-3.46724681342806, 52.86207775115826], [-3.4830125967512022, 52.86545360249677], [-3.473562340525509, 52.87126744769981], [-3.489967878842356, 52.89578938919934], [-3.4651156225264526, 52.920269509595784], [-3.4914286137517427, 52.933686213345126], [-3.4467134803502084, 52.963237557697], [-3.448745429322586, 52.973827417283715], [-3.436785667992146, 52.98084825347494], [-3.4579820112892605, 52.984888257872456], [-3.454591613820795, 52.99792581549886], [-3.481184496645337, 53.018522575345685], [-3.476274946214216, 53.02642006743978], [-3.4896583477853147, 53.03785907272429], [-3.4626093413198555, 53.04621121604695], [-3.4868881467787256, 53.065923323461604], [-3.4869291991041953, 53.08404986089302], [-3.509866758719343, 53.07635343037948], [-3.5157104307814224, 53.089799008964015], [-3.5649308854492445, 53.09465565694773], [-3.593057783265095, 53.07845569055187], [-3.6016181014491795, 53.085210088727365], [-3.5559542116890612, 53.10666975377924], [-3.563343219397155, 53.11948445711093], [-3.5340720376938384, 53.13994773996442], [-3.4610140734260533, 53.16499402050294], [-3.4744588224310466, 53.176372356118854], [-3.466024716191705, 53.220781122582345], [-3.5091999409559365, 53.24164595080421], [-3.526343548414694, 53.24042336565057], [-3.5330787178605654, 53.24886906672441], [-3.518338223527254, 53.256373717604255], [-3.52191953764585, 53.2833926790567], [-3.4964818044212014, 53.30227314833973], [-3.5051847211722444, 53.31354004777163], [-3.503919499564381, 53.317184254135405], [-3.5037424244833395, 53.317468916283865], [-3.5026036184173224, 53.31800522399093], [-3.4805631985416237, 53.32838002545236], [-3.3666947048782343, 53.35140032108043], [-3.3681801288462787, 53.33523764487738], [-3.3883472589780217, 53.32323283089476], [-3.393463221137437, 53.326982929434884], [-3.4005981988447314, 53.31382685199217], [-3.381307905953893, 53.31582713924149], [-3.39434138178138, 53.301707584461994], [-3.375131038984015, 53.29165368442711], [-3.356037424983891, 53.29726959824006], [-3.3570339781908656, 53.28392766010143], [-3.3296247887559054, 53.27336725017072], [-3.361754902427443, 53.25308265245338], [-3.333807439131332, 53.23666278008997], [-3.304440278019345, 53.23292389797657], [-3.3223790894074225, 53.22040927271379], [-3.317085420589469, 53.20999504797102], [-3.3042155535671163, 53.20803134789042], [-3.307698622541592, 53.19771444238474], [-3.2751718212533913, 53.17942118048489], [-3.280977915005743, 53.168590147083385], [-3.271206013923614, 53.15746604254571], [-3.244152158851134, 53.15229806520836], [-3.2082262225370424, 53.15984348814782], [-3.1823459609201143, 53.15403712492039], [-3.1767622531525275, 53.116086506371666], [-3.145908397305452, 53.10394972311976], [-3.1517644783528254, 53.09296277815396], [-3.1296166228252926, 53.07236808469595]]]}","{\"type\": \"MultiPolygon\", \"coordinates\": [[[[-3.1073978869169037, 53.271765067147705], [-3.086076374755992, 53.25682972421932], [-3.091419158418216, 53.2595100393566], [-3.0916186274469712, 53.259629534613104], [-3.0925842100306578, 53.2601870305644], [-3.09446171337339, 53.26139058357842], [-3.0954861544720838, 53.26212737499627], [-3.112263337660096, 53.262665299008994], [-3.101722914704448, 53.26722086761609], [-3.11134453796378, 53.266362481554545], [-3.1073978869169037, 53.271765067147705]]], [[[-3.298326520931733, 53.33208022878953], [-3.2732177843725645, 53.32066288554361], [-3.2646378460564116, 53.32467215085467], [-3.25967155969584, 53.31849098361138], [-3.259546428707042, 53.31915147679018], [-3.258273756079954, 53.31455220310669], [-3.247022557174939, 53.31042705821644], [-3.2016803518549364, 53.29378340390527], [-3.201219322338718, 53.29361402133622], [-3.1089521681404624, 53.24091567467743], [-3.066146317008288, 53.2271336640531], [-3.0946519135055426, 53.24482400985813], [-3.084934799955253, 53.24023443753639], [-3.08932075522347, 53.24473832609645], [-3.081037890004087, 53.24470431584919], [-3.077007453943738, 53.24273893812369], [-3.0721859571645846, 53.23537324112441], [-3.075166420476627, 53.24108372253088], [-3.0592728030252707, 53.24574833956121], [-3.073825346483061, 53.24200277259246], [-3.109357396750165, 53.25760754559373], [-3.085600609557201, 53.2566383052324], [-3.0859635196218766, 53.25677310232677], [-3.086015032286875, 53.2567989473575], [-3.0360243110181813, 53.251804948795225], [-2.998378413415403, 53.23585860665535], [-2.922299474144674, 53.18929264087159], [-2.9278386813770756, 53.1714113804998], [-2.9950884934687787, 53.15419593344769], [-2.9794982099581473, 53.15062162901941], [-2.9638133043226693, 53.13275749150149], [-2.9968519389116457, 53.129935358281195], [-3.0291477847863977, 53.10351527838741], [-3.027559662871696, 53.092972745865715], [-3.0350447548211767, 53.09679491344053], [-3.058851032707591, 53.08533232558181], [-3.0713405744069533, 53.08961088571381], [-3.1296166228252926, 53.07236808469595], [-3.1517644783528254, 53.09296277815396], [-3.145908397305452, 53.10394972311976], [-3.1767622531525275, 53.116086506371666], [-3.1823459609201143, 53.15403712492039], [-3.2082262225370424, 53.15984348814782], [-3.244152158851134, 53.15229806520836], [-3.271206013923614, 53.15746604254571], [-3.280977915005743, 53.168590147083385], [-3.2751718212533913, 53.17942118048489], [-3.307698622541592, 53.19771444238474], [-3.3042155535671163, 53.20803134789042], [-3.317085420589469, 53.20999504797102], [-3.3223790894074225, 53.22040927271379], [-3.304440278019345, 53.23292389797657], [-3.333807439131332, 53.23666278008997], [-3.361754902427443, 53.25308265245338], [-3.3296247887559054, 53.27336725017072], [-3.3570339781908656, 53.28392766010143], [-3.356037424983891, 53.29726959824006], [-3.375131038984015, 53.29165368442711], [-3.39434138178138, 53.301707584461994], [-3.381307905953893, 53.31582713924149], [-3.4005981988447314, 53.31382685199217], [-3.393463221137437, 53.326982929434884], [-3.3883472589780217, 53.32323283089476], [-3.3681801288462787, 53.33523764487738], [-3.3666947048782343, 53.35140032108043], [-3.363429856281697, 53.35205841748729], [-3.310843462207635, 53.35557172735457], [-3.312446126775901, 53.3423183758769], [-3.298326520931733, 53.33208022878953]]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-2.7268407948769093, 52.98327291361444], [-2.7352937652222415, 52.969946151197526], [-2.7241777017606377, 52.9571216235847], [-2.7284395573982994, 52.92530183313495], [-2.7553266405452495, 52.92462801271078], [-2.7988480784610164, 52.89575873033362], [-2.841015141949612, 52.94262367676573], [-2.883539578618889, 52.94663918202698], [-2.88743151455419, 52.95252985453424], [-2.9288888375675164, 52.93867880071663], [-2.9598135126381173, 52.9511695210732], [-2.975030180760573, 52.96898448747488], [-2.9820225374669103, 52.9591982224919], [-3.0096496792178327, 52.95619943623321], [-3.0350796227241084, 52.92948136053535], [-3.0765133499791566, 52.92547930475729], [-3.0959533936142942, 52.930281821743435], [-3.1141623519678943, 52.89397817944203], [-3.1475041237481385, 52.890169308592874], [-3.1743820145036667, 52.90157550952738], [-3.205365137084094, 52.89312923098284], [-3.2330033115997776, 52.867010988713034], [-3.261803244355392, 52.866608587794246], [-3.345651194937263, 52.89254081925838], [-3.3750150151581653, 52.8924534179977], [-3.348875567073978, 52.91633240839961], [-3.353315573952586, 52.92197169273714], [-3.324340556111148, 52.93184397044321], [-3.314307925911306, 52.94680144427517], [-3.2974019064889575, 52.9429669504129], [-3.237440642684436, 52.951012630910874], [-3.1979750461609684, 52.94420625258185], [-3.096726289737288, 52.95924775384821], [-3.1107003141103537, 52.961724931397626], [-3.092148757268576, 52.964275598895455], [-3.0902953743603923, 52.971619346843], [-3.1112810032428166, 52.96938860921631], [-3.105179294706564, 52.97337230236709], [-3.122288593128916, 52.97676014188103], [-3.1205516537406495, 52.98554511172802], [-3.148765600584498, 52.99857708128038], [-3.1308905480645888, 53.023876400235224], [-3.1477905556811523, 53.04380725634222], [-3.1296166228252926, 53.07236808469595], [-3.0713405744069533, 53.08961088571381], [-3.058851032707591, 53.08533232558181], [-3.0350447548211767, 53.09679491344053], [-3.027559662871696, 53.092972745865715], [-3.0291477847863977, 53.10351527838741], [-2.9968519389116457, 53.129935358281195], [-2.9638133043226693, 53.13275749150149], [-2.910232511362683, 53.11263893932047], [-2.881099577052644, 53.12160368601707], [-2.9020741424111156, 53.092039399776226], [-2.8757224353210074, 53.08152199963392], [-2.8816437679789013, 53.07439205739574], [-2.8614752445891836, 53.06066036533892], [-2.872555014633621, 53.05861550460077], [-2.859240569680429, 53.054255492987444], [-2.870118099785289, 53.04536055625949], [-2.8557152443887723, 53.037255867652995], [-2.8610444795654923, 53.02284862018975], [-2.844062197786046, 53.01766833169927], [-2.8359957701919747, 52.99715011099914], [-2.803311148334704, 52.98959414958417], [-2.7682755387427385, 52.99486047875701], [-2.759940361108987, 52.986419631684775], [-2.7268407948769093, 52.98327291361444]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-3.758102330278451, 52.128234313523926], [-3.786100064804979, 52.104557434240206], [-3.7944186065323082, 52.117138301808545], [-3.860104660360523, 52.14219627622064], [-3.9067225757455186, 52.11978760317159], [-3.940488994805708, 52.13844784658565], [-4.018123157019481, 52.09714428031337], [-4.058099336416165, 52.11387889938821], [-4.100055223874483, 52.096061056808274], [-4.144004201020632, 52.094270764655676], [-4.1587612237120615, 52.08689299992126], [-4.147274228540332, 52.08079670787626], [-4.158564335155405, 52.081209928837986], [-4.1641559701572755, 52.068153037643896], [-4.191456595159403, 52.05932593084484], [-4.205844382004753, 52.06257338790943], [-4.234476663995158, 52.038214666979094], [-4.282497890806227, 52.0398103063901], [-4.288967483375083, 52.05278517951692], [-4.301072362347654, 52.05164294910535], [-4.305788173885105, 52.038613136206706], [-4.334743457943014, 52.04132956281963], [-4.350614777853742, 52.02675610111044], [-4.384896763774722, 52.040021713892635], [-4.398842244087421, 52.034635175815616], [-4.411101378899866, 52.04183715756267], [-4.448732310404597, 52.04414538867974], [-4.463654665803351, 52.03653743572378], [-4.487450553048975, 52.049069709856695], [-4.501959840915206, 52.04258606741542], [-4.535622562938971, 52.044360833663745], [-4.541077137582992, 52.052126468773245], [-4.544927864712067, 52.044243760133746], [-4.559755020549392, 52.04372648610574], [-4.570259477274537, 52.05886940457046], [-4.607776091090988, 52.06215282996621], [-4.631186743840428, 52.05596126564038], [-4.64702692094143, 52.078366906338516], [-4.664919857678335, 52.057808279907675], [-4.680338341658767, 52.063719498328744], [-4.669679334514654, 52.0803702716465], [-4.681748307088911, 52.08517543708678], [-4.6886349209205695, 52.10422129738476], [-4.688374289241413, 52.10413832842317], [-4.688000742494853, 52.108578211888336], [-4.686221107413147, 52.12971155119824], [-4.641844988097601, 52.1382764503916], [-4.5837036300899365, 52.13798086585098], [-4.5827986662345275, 52.13797266988572], [-4.567616341556235, 52.144378608823466], [-4.563452348941189, 52.142578433851625], [-4.545584551878608, 52.13329431882834], [-4.518604915235355, 52.134987287069016], [-4.509605771415198, 52.13977068239146], [-4.506179882928141, 52.14018667167187], [-4.501674848465661, 52.143984871581154], [-4.470987795985482, 52.16027840146679], [-4.466915006168423, 52.17126809533751], [-4.462135121600122, 52.16985171771046], [-4.460047884983493, 52.167654652156905], [-4.456628337848111, 52.16821958942557], [-4.454509705817778, 52.167591557523494], [-4.450583858242026, 52.16921791248713], [-4.445081539273223, 52.17012638351824], [-4.439871870794257, 52.17365431234966], [-4.42892794305172, 52.17818487319336], [-4.379751985524899, 52.2142041183977], [-4.3778635536291, 52.21558576079093], [-4.377621057961387, 52.21574952597331], [-4.3774425900254474, 52.21578514511888], [-4.357353188233478, 52.215255686659276], [-4.356593002729346, 52.21466893189376], [-4.350534521841998, 52.209991896271845], [-4.3432008810988085, 52.21103132819076], [-4.324967091563962, 52.21361351493241], [-4.320836177593497, 52.21537749977089], [-4.207514078317947, 52.26365851798024], [-4.1403815902607395, 52.32250224678801], [-4.1357417313284905, 52.33061583951736], [-4.090181767880526, 52.398402050267244], [-4.086276589143805, 52.427009075908785], [-4.070542612153065, 52.464150519402295], [-4.057949396649554, 52.47691823728161], [-4.0517404511631305, 52.48155418606895], [-4.056268588779141, 52.53233481334045], [-4.041521394152818, 52.526506110416726], [-4.039187396546104, 52.526785250965574], [-4.001468841859934, 52.53277339556532], [-3.985659336396534, 52.517604401077605], [-3.997039076434139, 52.53483889598845], [-3.96668011021199, 52.53073317510812], [-3.984472714999334, 52.536259578363065], [-3.955964519231467, 52.55540080147095], [-3.9492304761540598, 52.551676217281866], [-3.94179680712868, 52.55781891209395], [-3.932931618249112, 52.552978278981165], [-3.926609507108724, 52.560767030383126], [-3.859466410469554, 52.560843574015514], [-3.8408621344502696, 52.55135475980784], [-3.8439960770590496, 52.512039224445914], [-3.8267559603350527, 52.48479397014653], [-3.8124669807813953, 52.478911450656774], [-3.7332607101860256, 52.506589527962845], [-3.744798319560969, 52.474633237857596], [-3.7664076252296694, 52.469303576101595], [-3.7716169760844487, 52.44215241012061], [-3.712050288338341, 52.413356387565486], [-3.697200857907915, 52.3669295042132], [-3.685478954575512, 52.368221230586286], [-3.6581675901334356, 52.3476490953206], [-3.705129705550024, 52.34145456953258], [-3.7450108902417796, 52.317565728251694], [-3.7277366726747423, 52.30582613669171], [-3.733089964701347, 52.290304112811086], [-3.707170346528332, 52.274057534935814], [-3.7316377747622016, 52.271450676949925], [-3.753433587719161, 52.25176055213743], [-3.744208191086005, 52.24630451956067], [-3.752271960084851, 52.197613987147506], [-3.7420514199785253, 52.139299379698315], [-3.758102330278451, 52.128234313523926]]]}","{\"type\": \"MultiPolygon\", \"coordinates\": [[[[-4.674772981730426, 51.637641728222405], [-4.684056819081792, 51.629915419637435], [-4.703471708020548, 51.63202487983579], [-4.7095150481302355, 51.64217690678346], [-4.703134892969829, 51.64226435609934], [-4.674772981730426, 51.637641728222405]]], [[[-5.2719835085674225, 51.695691030727154], [-5.287945771283192, 51.69352675323889], [-5.2788594430357385, 51.700019907162954], [-5.273617521617259, 51.703431136213204], [-5.264650290693515, 51.701835644966586], [-5.270093540297849, 51.695960820928335], [-5.2719835085674225, 51.695691030727154]]], [[[-5.299711159114871, 51.74496196782628], [-5.274459689346335, 51.7364346647229], [-5.269484910476273, 51.73461831229169], [-5.269623533385748, 51.734581621335444], [-5.281258585891605, 51.73604468342036], [-5.281419347245383, 51.736746372376736], [-5.293036380775424, 51.72831883451211], [-5.308108208133596, 51.73205228801901], [-5.311443531405908, 51.73462552983784], [-5.312873930048281, 51.738836477177436], [-5.309706154021277, 51.74113349674534], [-5.299711159114871, 51.74496196782628]]], [[[-5.329810729851591, 51.877703057328816], [-5.333360016196674, 51.853751483387605], [-5.353370977661999, 51.86376697782554], [-5.3385285986523545, 51.87913228244521], [-5.329810729851591, 51.877703057328816]]], [[[-4.680338341658767, 52.063719498328744], [-4.664919857678335, 52.057808279907675], [-4.64702692094143, 52.078366906338516], [-4.631186743840428, 52.05596126564038], [-4.607776091090988, 52.06215282996621], [-4.570259477274537, 52.05886940457046], [-4.559755020549392, 52.04372648610574], [-4.546398393248432, 52.019057811739835], [-4.523012453484609, 52.011251673586266], [-4.51227472523137, 51.99491349303697], [-4.48711145569758, 51.9886832849428], [-4.493310720030454, 51.961309758921], [-4.541549708753703, 51.956550619995475], [-4.577685496841225, 51.93191444298443], [-4.5999541338635614, 51.9409302257769], [-4.635611007094787, 51.91859566079413], [-4.667889634917262, 51.934078378081935], [-4.713428064588237, 51.91578552038005], [-4.713538291475479, 51.899237911188614], [-4.723103573035366, 51.89569827418983], [-4.706713675536274, 51.88887824678945], [-4.694102179548098, 51.85962006738923], [-4.70861828196056, 51.84726784191496], [-4.704262975146472, 51.8391202618983], [-4.645792646017744, 51.83133945055137], [-4.61694064620303, 51.81161462172794], [-4.644594028037138, 51.797274499319535], [-4.634119274860912, 51.78501354895814], [-4.643970366930454, 51.77652097112323], [-4.622582279207044, 51.76812546967386], [-4.632174703860113, 51.73518693550383], [-4.632852214280262, 51.73519834526542], [-4.676272903318192, 51.727156033345366], [-4.69657002232538, 51.71272264929761], [-4.69209811453981, 51.70849429125258], [-4.692698709152604, 51.70540174784276], [-4.6840327484416635, 51.70086566842331], [-4.68024436356069, 51.69728133099033], [-4.697201804320087, 51.68629050067542], [-4.701873284451012, 51.67454323861762], [-4.6933540822033235, 51.671959512191876], [-4.700109807652789, 51.66770771110599], [-4.7142809648052575, 51.65878499583055], [-4.711140870711802, 51.651752751315385], [-4.756851253249375, 51.65368367327845], [-4.755939839848929, 51.64400632260498], [-4.777117303224769, 51.64242988631733], [-4.781165589170395, 51.63495357385244], [-4.781517145053047, 51.63503803808608], [-4.812879545486956, 51.64513074621405], [-4.8257974239231745, 51.645665812519354], [-4.830780515674335, 51.64686044732535], [-4.845357785376461, 51.646473295565244], [-4.8607893470363726, 51.64710804437162], [-4.861717968262088, 51.63918892679572], [-4.861992279884413, 51.63865562063282], [-4.89114047941164, 51.62950967836193], [-4.898650369168295, 51.62715152843796], [-4.896434006543278, 51.61012542991086], [-4.922998107534994, 51.61143107403277], [-4.923376192470429, 51.599171088954], [-4.925059428833213, 51.59718934195713], [-4.948348112077659, 51.59701115562852], [-4.975448116358987, 51.61033902495959], [-5.007589950532337, 51.60856939767267], [-5.059410570325793, 51.62060259107805], [-5.050069732208947, 51.639943719421375], [-5.062147983003474, 51.65882302012319], [-5.06507150802203, 51.66339009248072], [-5.123374672579699, 51.67119657995076], [-5.125672242890062, 51.68162128972193], [-5.105098400148097, 51.69205866095541], [-5.103965911269328, 51.69196099100168], [-5.0763137380498335, 51.6881054744712], [-5.075909885916201, 51.68791047797526], [-5.088136328786912, 51.684696472143955], [-5.073894902873958, 51.677853955316955], [-5.046552867203708, 51.676246816651066], [-5.05118473806127, 51.6938723770453], [-5.02756131929496, 51.69503250008416], [-5.007489092186705, 51.68732048019601], [-4.981450777707203, 51.68912102767536], [-4.986300500420921, 51.684004652576235], [-4.975351709021106, 51.68087485852994], [-4.975464324332072, 51.68149708871863], [-4.973495221953072, 51.67890142624275], [-4.976565821258548, 51.687581764646325], [-4.976673160399392, 51.688174587000205], [-4.949229754783347, 51.70217889865002], [-4.891182901460569, 51.706035844328035], [-4.886820347461934, 51.716754966065224], [-4.872073756037902, 51.717662915677856], [-4.884824762773866, 51.71901972386629], [-4.8829424181216625, 51.73391719450812], [-4.898017620200262, 51.73956726005737], [-4.886095945129518, 51.77102273725268], [-4.912863964323847, 51.77152729309109], [-4.895096415090258, 51.76128516718913], [-4.902498166687761, 51.741557065339705], [-4.886873764538957, 51.7302864287852], [-4.895562667468112, 51.709935197144205], [-4.946318357260372, 51.703663654618964], [-4.943231741386368, 51.70523758423356], [-4.984922049010626, 51.699378609186695], [-5.01920563301737, 51.70723042618413], [-5.013887353305723, 51.71717550396373], [-5.022601327845281, 51.70800756380966], [-5.034570589555074, 51.71074583251342], [-5.060921619734661, 51.70819548482738], [-5.059632046111153, 51.706962146328145], [-5.063239706034341, 51.706867067163024], [-5.063215788784195, 51.70722835790095], [-5.085119168157014, 51.70641527287101], [-5.0902854434648335, 51.71084958524542], [-5.097817405089456, 51.720013717822304], [-5.099746246967584, 51.71896694657346], [-5.105134357543358, 51.72358821479732], [-5.093024432332702, 51.74046734530572], [-5.105257288678662, 51.73607640342094], [-5.115908464820437, 51.71037610687191], [-5.124584568882132, 51.717435564469305], [-5.134730771553473, 51.71597347920129], [-5.15820612367653, 51.715068061040576], [-5.169999502983097, 51.73096668036987], [-5.168518913531544, 51.70677730109338], [-5.149617755878258, 51.70236637425788], [-5.1581253727843555, 51.701721146295235], [-5.157318151316023, 51.68797461146148], [-5.175602784070998, 51.680308368213474], [-5.18419663278773, 51.68682113514412], [-5.18827957166304, 51.68991445537267], [-5.187186428326878, 51.708862420494896], [-5.190961863051239, 51.709524634341875], [-5.2093763510456, 51.71924881226987], [-5.21220990699668, 51.72296735383205], [-5.23257386550862, 51.72491736039633], [-5.2535452945126675, 51.73777431352889], [-5.254023877175243, 51.73818560915196], [-5.2108659669990205, 51.73391515339891], [-5.2031853255756895, 51.75557244357674], [-5.18891912800972, 51.7539479112593], [-5.186109843987873, 51.75362779124149], [-5.160298927411787, 51.77212764595364], [-5.118581805267704, 51.76825583722982], [-5.107647434676868, 51.77417610103907], [-5.102886652045385, 51.81005299884021], [-5.116047317609129, 51.837290266221174], [-5.123121220921498, 51.85191557765191], [-5.1377802980071685, 51.86391418373102], [-5.139826690133095, 51.8637807188043], [-5.139854805252352, 51.86380762041956], [-5.145207688971922, 51.863429597529986], [-5.181593230443455, 51.86104874933031], [-5.179503279899223, 51.86724647320623], [-5.18228404373283, 51.867235732940465], [-5.182297465250976, 51.867436197912056], [-5.194620975900058, 51.867192924502156], [-5.18931854177241, 51.87389037821861], [-5.197001556841995, 51.86823494759234], [-5.198289633458313, 51.867286616919706], [-5.215926441388176, 51.869599796381685], [-5.221007897607252, 51.87317823873406], [-5.2297309585035485, 51.87140822788449], [-5.245795315782352, 51.87351042553666], [-5.282555552039969, 51.870231786466356], [-5.296280300285736, 51.860745529786094], [-5.297560063185295, 51.86610300240989], [-5.318306993299062, 51.861928990316166], [-5.319750016142977, 51.86169732889205], [-5.307332815474911, 51.87478025281179], [-5.307462115867257, 51.87492597160347], [-5.307370847398633, 51.87502113525454], [-5.315974480182945, 51.884749155392825], [-5.29585195988457, 51.89332076643113], [-5.303776457019089, 51.90366502508039], [-5.314589953991423, 51.902013766221266], [-5.305538940438265, 51.908302325870984], [-5.259161469477599, 51.91484437504879], [-5.2362490147489895, 51.92950654516509], [-5.210136434925534, 51.93223349919298], [-5.202298826286908, 51.94273467302481], [-5.196417942221265, 51.95061064649683], [-5.185830468014259, 51.950033771845035], [-5.157715873783538, 51.94822236234506], [-5.157436590894673, 51.948481706821525], [-5.154064972947632, 51.94829692651384], [-5.150325444345692, 51.95508397604764], [-5.143445219430719, 51.961469649746874], [-5.124598250598303, 51.961321467526815], [-5.121861482623957, 51.960647697922255], [-5.120474731484423, 51.96128863279245], [-5.107113703383021, 51.961181241593444], [-5.104559227120032, 51.968642069916655], [-5.103223629315277, 51.96925895097768], [-5.085797080748927, 51.96823484856508], [-5.079912007691825, 51.985354518528766], [-5.094918051033056, 51.9932391504986], [-5.095638657109586, 51.99363612248209], [-5.072581571636483, 52.00396267354343], [-5.073339014783908, 52.004467413477215], [-5.073014791811683, 52.00462374652373], [-5.087052896214432, 52.013602893663794], [-5.089623727456613, 52.01531481155792], [-5.089528522561609, 52.01541440693828], [-5.086371516134593, 52.01795384806454], [-5.071272368641097, 52.03009429065436], [-5.047094900978996, 52.025575578220035], [-5.020733840382477, 52.020353177909826], [-4.9918046173444175, 52.02603378352649], [-4.9895214662911735, 52.021473678428976], [-4.987105300369024, 52.016426748970034], [-4.986981928082015, 52.016400219305496], [-4.986809466050231, 52.01605561732517], [-4.970406684015092, 52.01279450001256], [-4.9826163447576794, 52.0146899696467], [-4.982697571988567, 52.014692795580835], [-4.988666332451627, 52.00860741135993], [-4.992491275636888, 52.00476087533446], [-4.992452876683843, 52.00474587933468], [-4.993116887816569, 52.004068639484416], [-4.99116482519717, 52.00424284168953], [-4.986412531911, 52.00238665234997], [-4.989735107664691, 52.00070069112319], [-4.969235466436869, 51.9949310870286], [-4.969936974334781, 51.997284762369034], [-4.9267307552257815, 52.008930559981266], [-4.919709536767835, 52.01009851593651], [-4.916202046100776, 52.019080633222664], [-4.91493550238031, 52.02232313293706], [-4.910145645113069, 52.034581837357855], [-4.885594077960034, 52.020793781614906], [-4.88257424223631, 52.02090748782911], [-4.878887297554866, 52.01902791884147], [-4.814345269524322, 52.01852656671187], [-4.838836563435342, 52.024182164871824], [-4.841326648012939, 52.02475681426891], [-4.837967331975367, 52.03341966915749], [-4.844201261477015, 52.036149694092586], [-4.838294908511092, 52.049873896288524], [-4.837960536006709, 52.05030236888652], [-4.835087401351926, 52.05083316808637], [-4.791430694636537, 52.05845680592837], [-4.759052271975939, 52.076770740221775], [-4.741440403653483, 52.09863320279986], [-4.747015035680475, 52.102336155289045], [-4.749204431924673, 52.10420682265574], [-4.731541602422149, 52.11786815828474], [-4.6886349209205695, 52.10422129738476], [-4.681748307088911, 52.08517543708678], [-4.669679334514654, 52.0803702716465], [-4.680338341658767, 52.063719498328744]]]]}","{\"type\": \"MultiPolygon\", \"coordinates\": [[[[-4.3150144863529984, 51.66693942517315], [-4.314917407353779, 51.665035784723585], [-4.321654146195799, 51.66640861562083], [-4.337645055458892, 51.67548468599231], [-4.329922200139893, 51.67563842417443], [-4.315472670357756, 51.675923449235924], [-4.3150144863529984, 51.66693942517315]]], [[[-3.860104660360523, 52.14219627622064], [-3.7944186065323082, 52.117138301808545], [-3.786100064804979, 52.104557434240206], [-3.758102330278451, 52.128234313523926], [-3.720319195029626, 52.11750155919392], [-3.714076567381787, 52.10497090023907], [-3.728799602480951, 52.09398304815172], [-3.7230955150384997, 52.08521423348828], [-3.6671312198319095, 52.074299237266445], [-3.6790500067836898, 52.06061198541651], [-3.6471366805358727, 52.03878916567782], [-3.6682723982299863, 52.025432303733], [-3.6700167977239073, 52.00421316550355], [-3.7112036993299915, 51.96187932039], [-3.699906626684568, 51.94608881600956], [-3.720936639300499, 51.941311546893395], [-3.7275181864989615, 51.91051413631398], [-3.7136829047570896, 51.90593624324248], [-3.7138375938513644, 51.88712555065491], [-3.7726456801213994, 51.84602228385891], [-3.806690656317786, 51.78795225422359], [-3.8185782543524325, 51.80234793472599], [-3.865456317322329, 51.81034650297009], [-3.899882173786358, 51.80363109608723], [-3.882096484067167, 51.78790480390825], [-3.8872060078273467, 51.76879790113445], [-3.918424744330542, 51.77530108489509], [-3.936504796177954, 51.77135538288641], [-3.9651903469230514, 51.763705058345415], [-3.999804340239481, 51.77415142991955], [-4.001593981878064, 51.762613326088015], [-4.0493027247815, 51.72959398874521], [-4.043453239158779, 51.70662881188141], [-4.04965756872683, 51.712045957307126], [-4.044000864598, 51.70668099766164], [-4.056323728401928, 51.71319650957613], [-4.05489705971789, 51.707523336621], [-4.059179158247428, 51.70031231814987], [-4.071778434546568, 51.69905640002596], [-4.067327243398598, 51.69065740418861], [-4.0816430549270475, 51.6888038288477], [-4.081360368629566, 51.68412164907506], [-4.081406474605606, 51.68411219532283], [-4.081356289336492, 51.6840540645649], [-4.081130405318185, 51.680310296560954], [-4.080489912397633, 51.66968876070168], [-4.081345688587283, 51.67490434695877], [-4.089659086192361, 51.671699500709636], [-4.082049870600382, 51.66425379646647], [-4.083518235813855, 51.66366675019775], [-4.12942525472249, 51.65794221341624], [-4.133212879651865, 51.66537968525705], [-4.146162509535832, 51.65468199079073], [-4.167608929557948, 51.66406736688202], [-4.168466855613297, 51.678730200005596], [-4.168588747508057, 51.68081263450537], [-4.168789807592985, 51.678724221945785], [-4.170069332695475, 51.66542932085013], [-4.180558303845729, 51.6785062540332], [-4.182338818680204, 51.68072522255818], [-4.2154414173422134, 51.685314237675605], [-4.289087059512865, 51.67695027123741], [-4.286021798832958, 51.676501290839056], [-4.264204519856284, 51.67330306538581], [-4.2912358146944305, 51.667651834366914], [-4.308699136730152, 51.67605682299507], [-4.315649935983514, 51.67940059072514], [-4.348323989957532, 51.69510655357716], [-4.379926037472437, 51.73213783258473], [-4.360545839136211, 51.730290499418615], [-4.362985334071431, 51.7246684776115], [-4.357515659154658, 51.729696663729115], [-4.35659505090205, 51.72414752142674], [-4.356209711319536, 51.72182433589096], [-4.335443604828436, 51.7230968923776], [-4.336464541313016, 51.717510909186046], [-4.323845746762757, 51.724096733273505], [-4.322490675393141, 51.71658745560148], [-4.3217805671666865, 51.72465648967512], [-4.317802353062852, 51.721532900937326], [-4.314847286416962, 51.71921229088182], [-4.315011947224724, 51.72626032993692], [-4.309791062266408, 51.72145123585327], [-4.301949391643535, 51.72613209959034], [-4.318245604405604, 51.73020435764341], [-4.32502365799209, 51.73189723809276], [-4.3184461279272846, 51.73411994551741], [-4.295456523310302, 51.74188401845424], [-4.318511452520591, 51.73539533246786], [-4.321711420318074, 51.73449420886453], [-4.365554848325807, 51.73791999986847], [-4.376045430143092, 51.753876441635484], [-4.366130116659619, 51.78718500095266], [-4.3240161514763145, 51.80152083486768], [-4.32646444715653, 51.80135144829761], [-4.363463574327415, 51.796501441429776], [-4.403831868992735, 51.757275682329414], [-4.448880133690625, 51.77011359249661], [-4.462752427281455, 51.76912116825666], [-4.458987863887436, 51.76045883245083], [-4.4177824973926585, 51.74529156651084], [-4.423660123645681, 51.740734546539635], [-4.463219415535923, 51.73168344582037], [-4.559023870486145, 51.74198256102242], [-4.571802053300959, 51.73697708275433], [-4.606473198952592, 51.73475123387125], [-4.608160586549252, 51.73478001039974], [-4.632174703860113, 51.73518693550383], [-4.622582279207044, 51.76812546967386], [-4.643970366930454, 51.77652097112323], [-4.634119274860912, 51.78501354895814], [-4.644594028037138, 51.797274499319535], [-4.61694064620303, 51.81161462172794], [-4.645792646017744, 51.83133945055137], [-4.704262975146472, 51.8391202618983], [-4.70861828196056, 51.84726784191496], [-4.694102179548098, 51.85962006738923], [-4.706713675536274, 51.88887824678945], [-4.723103573035366, 51.89569827418983], [-4.713538291475479, 51.899237911188614], [-4.713428064588237, 51.91578552038005], [-4.667889634917262, 51.934078378081935], [-4.635611007094787, 51.91859566079413], [-4.5999541338635614, 51.9409302257769], [-4.577685496841225, 51.93191444298443], [-4.541549708753703, 51.956550619995475], [-4.493310720030454, 51.961309758921], [-4.48711145569758, 51.9886832849428], [-4.51227472523137, 51.99491349303697], [-4.523012453484609, 52.011251673586266], [-4.546398393248432, 52.019057811739835], [-4.559755020549392, 52.04372648610574], [-4.544927864712067, 52.044243760133746], [-4.541077137582992, 52.052126468773245], [-4.535622562938971, 52.044360833663745], [-4.501959840915206, 52.04258606741542], [-4.487450553048975, 52.049069709856695], [-4.463654665803351, 52.03653743572378], [-4.448732310404597, 52.04414538867974], [-4.411101378899866, 52.04183715756267], [-4.398842244087421, 52.034635175815616], [-4.384896763774722, 52.040021713892635], [-4.350614777853742, 52.02675610111044], [-4.334743457943014, 52.04132956281963], [-4.305788173885105, 52.038613136206706], [-4.301072362347654, 52.05164294910535], [-4.288967483375083, 52.05278517951692], [-4.282497890806227, 52.0398103063901], [-4.234476663995158, 52.038214666979094], [-4.205844382004753, 52.06257338790943], [-4.191456595159403, 52.05932593084484], [-4.1641559701572755, 52.068153037643896], [-4.158564335155405, 52.081209928837986], [-4.147274228540332, 52.08079670787626], [-4.1587612237120615, 52.08689299992126], [-4.144004201020632, 52.094270764655676], [-4.100055223874483, 52.096061056808274], [-4.058099336416165, 52.11387889938821], [-4.018123157019481, 52.09714428031337], [-3.940488994805708, 52.13844784658565], [-3.9067225757455186, 52.11978760317159], [-3.860104660360523, 52.14219627622064]]]]}","{\"type\": \"MultiPolygon\", \"coordinates\": [[[[-4.333943716857196, 51.56502926406307], [-4.31131874677636, 51.561827682394274], [-4.309726489125983, 51.56291964538571], [-4.309534130624285, 51.55913035095306], [-4.30949631259201, 51.558384108234], [-4.333943716857196, 51.56502926406307]]], [[[-4.311813876951567, 51.604051771359025], [-4.311803797738597, 51.603853301599486], [-4.3164331063471115, 51.60917551341792], [-4.312161640465423, 51.61090335905969], [-4.311813876951567, 51.604051771359025]]], [[[-4.081683421599203, 51.66389514644577], [-4.083518235813855, 51.66366675019775], [-4.082049870600382, 51.66425379646647], [-4.081683421599203, 51.66389514644577]]], [[[-4.081360368629566, 51.68412164907506], [-4.081356289336492, 51.6840540645649], [-4.081406474605606, 51.68411219532283], [-4.081360368629566, 51.68412164907506]]], [[[-4.0532330125690015, 51.70090455099611], [-4.059179158247428, 51.70031231814987], [-4.05489705971789, 51.707523336621], [-4.0532330125690015, 51.70090455099611]]], [[[-3.999804340239481, 51.77415142991955], [-3.9651903469230514, 51.763705058345415], [-3.936504796177954, 51.77135538288641], [-3.8885062835890554, 51.73908616849465], [-3.876022889311737, 51.70396047123748], [-3.8427433640524877, 51.69736930170819], [-3.851442365012309, 51.67491328908726], [-3.8752423040721173, 51.65754621881885], [-3.8852176123305666, 51.61766345482874], [-3.886233445590744, 51.61753709996619], [-3.924682968919894, 51.6069863327991], [-3.9271500639444636, 51.60732749114017], [-3.929302877341357, 51.61671299495567], [-3.9287329031695704, 51.61346153662813], [-3.928763057220069, 51.60819552939635], [-3.929095783763175, 51.61344594290806], [-3.9583433115231292, 51.61218526359867], [-3.9939003655176513, 51.598697304426665], [-4.000582913062354, 51.580034042862515], [-3.9863013511588927, 51.573338054618475], [-3.9863875355320246, 51.5732190450811], [-3.976600391752493, 51.568680033933724], [-3.980649925792766, 51.56494520550068], [-3.9821472895939527, 51.564866258378686], [-4.0105531634309335, 51.568156598428665], [-4.021213648157954, 51.56428189340239], [-4.024328860194895, 51.5631493184493], [-4.034994124876537, 51.57010669409879], [-4.064351807403828, 51.557254902648005], [-4.111325146641173, 51.569949518572535], [-4.103714053463208, 51.57777405107134], [-4.156439678473914, 51.56194994711267], [-4.1528752959173385, 51.54250082067862], [-4.175122054133707, 51.54486556294679], [-4.194805972898496, 51.54826430248311], [-4.210784206717309, 51.53714863082339], [-4.278818216532975, 51.56150305765026], [-4.308160787232746, 51.56302156203398], [-4.2890062779041696, 51.57635093350206], [-4.309206405021001, 51.60961834391194], [-4.2796507482096375, 51.61591125241866], [-4.2455036867032465, 51.647589013753795], [-4.230599729353177, 51.64773653166865], [-4.242466142387431, 51.64635211012597], [-4.23253015978273, 51.64224565024152], [-4.245560366119185, 51.61798939186528], [-4.232264140094464, 51.63150407104496], [-4.233888309022766, 51.62285615233268], [-4.228712441273287, 51.630360298740364], [-4.22372302726767, 51.62096820553399], [-4.225374633777736, 51.62622926471854], [-4.222292670818419, 51.62571761789846], [-4.205537386101217, 51.61642199120668], [-4.212962373604736, 51.62416810301342], [-4.220907080995999, 51.62548756108965], [-4.224650159403506, 51.62769449707721], [-4.219549888247227, 51.63154922243796], [-4.208896111019554, 51.624930853919764], [-4.217683838476084, 51.635555592686885], [-4.18636275984393, 51.62671250514089], [-4.197784833060079, 51.62232198324793], [-4.187795039417954, 51.616960083753916], [-4.192047004468236, 51.624136202627746], [-4.165891753416221, 51.62817387490665], [-4.1732010091210245, 51.61612597843561], [-4.158876003704462, 51.62423474454329], [-4.164147792979997, 51.62796230792696], [-4.155700510906775, 51.626553857290254], [-4.164327262911606, 51.62818114772807], [-4.154726352314749, 51.62779746205238], [-4.158473343595418, 51.6343158460521], [-4.132975571059568, 51.63249406383933], [-4.137446979101221, 51.642121307834365], [-4.087179058792986, 51.64798227061598], [-4.1163327497714715, 51.644719545861186], [-4.10539705551046, 51.65265428430028], [-4.048567817901329, 51.65569808727573], [-4.081327913209949, 51.66209940812643], [-4.062432489052081, 51.6726565191386], [-4.074614560575844, 51.68042533578899], [-4.0771622885553915, 51.68204958230849], [-4.071538023337598, 51.68047952683213], [-4.069227844757255, 51.679834512674184], [-4.068607296421635, 51.68053114012857], [-4.0513948180710155, 51.699845002079535], [-4.053689855202456, 51.70890271322931], [-4.043650299306187, 51.70623366757678], [-4.043278755762474, 51.70647644418231], [-4.043453239158779, 51.70662881188141], [-4.0493027247815, 51.72959398874521], [-4.001593981878064, 51.762613326088015], [-3.999804340239481, 51.77415142991955]]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-3.806690656317786, 51.78795225422359], [-3.7703206266574676, 51.754521589787466], [-3.7460908929798964, 51.75339219084852], [-3.727910679096082, 51.77620659538867], [-3.670366115594461, 51.7871981877138], [-3.603431062407061, 51.773846408228145], [-3.591293203040406, 51.75461192532211], [-3.578645962808143, 51.71788073998511], [-3.5895851518033224, 51.679272398722574], [-3.5633104086920926, 51.645484759348555], [-3.595719843438682, 51.637728744623956], [-3.665701370725859, 51.641152734623084], [-3.6807104164846867, 51.621912079354445], [-3.676738818515509, 51.601324294170944], [-3.6911214681580535, 51.60351896528038], [-3.69442020849971, 51.59426682386048], [-3.655287704501739, 51.564833791347134], [-3.656613317633864, 51.5391714268724], [-3.6878033031492867, 51.53743463575664], [-3.7031275968905866, 51.52716576453069], [-3.76227102532393, 51.53475751937315], [-3.763005285622025, 51.53651123989928], [-3.763914625370969, 51.537661923480684], [-3.762799157974234, 51.5380174974897], [-3.7641595593364534, 51.53797185318892], [-3.7785261163174693, 51.5561421353124], [-3.779981219196655, 51.55971253212446], [-3.7819487754473196, 51.560468570027176], [-3.7892660114788725, 51.569714748386374], [-3.797195746793218, 51.569279504094794], [-3.8172766847623447, 51.574296648719134], [-3.797937211548444, 51.57113559444343], [-3.8022325328596813, 51.58188481889543], [-3.810666403279015, 51.58059672867203], [-3.809647050833148, 51.581568054228576], [-3.810899910519054, 51.582739346234604], [-3.790709898777183, 51.59298277391352], [-3.811768493065439, 51.58355133549313], [-3.818752235490375, 51.59007815551227], [-3.8221350350359407, 51.59166365731561], [-3.850826197440303, 51.61446611593462], [-3.8369404975187664, 51.62365806027327], [-3.8852176123305666, 51.61766345482874], [-3.8752423040721173, 51.65754621881885], [-3.851442365012309, 51.67491328908726], [-3.8427433640524877, 51.69736930170819], [-3.876022889311737, 51.70396047123748], [-3.8885062835890554, 51.73908616849465], [-3.936504796177954, 51.77135538288641], [-3.918424744330542, 51.77530108489509], [-3.8872060078273467, 51.76879790113445], [-3.882096484067167, 51.78790480390825], [-3.899882173786358, 51.80363109608723], [-3.865456317322329, 51.81034650297009], [-3.8185782543524325, 51.80234793472599], [-3.806690656317786, 51.78795225422359]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-3.4975123897557414, 51.51264201307474], [-3.529609826210619, 51.50136360927911], [-3.5276112794929486, 51.49368417609538], [-3.539449933659159, 51.49103125868848], [-3.532850420609366, 51.481605621305846], [-3.554761107202898, 51.49277337557471], [-3.6212323053124917, 51.475543274885986], [-3.6196304988899866, 51.476619590857055], [-3.626359958132563, 51.474212034603056], [-3.6398868101026793, 51.470698748676504], [-3.658918847384488, 51.480045923765054], [-3.6798369723004383, 51.47317948069645], [-3.698815472412712, 51.47801560701829], [-3.699459191493852, 51.474465109046136], [-3.7083292947088884, 51.47572876354634], [-3.7208287673995404, 51.47968169030917], [-3.7297255161235365, 51.48726624873647], [-3.7494227478377797, 51.50404717233134], [-3.750180888309932, 51.50586050264876], [-3.76227102532393, 51.53475751937315], [-3.7031275968905866, 51.52716576453069], [-3.6878033031492867, 51.53743463575664], [-3.656613317633864, 51.5391714268724], [-3.655287704501739, 51.564833791347134], [-3.69442020849971, 51.59426682386048], [-3.6911214681580535, 51.60351896528038], [-3.676738818515509, 51.601324294170944], [-3.6807104164846867, 51.621912079354445], [-3.665701370725859, 51.641152734623084], [-3.595719843438682, 51.637728744623956], [-3.5633104086920926, 51.645484759348555], [-3.537638469911023, 51.64413321618684], [-3.510021542438377, 51.61814081679415], [-3.472526240935503, 51.60126984534423], [-3.4764673662383005, 51.58163623138305], [-3.4887322507718905, 51.5742427829553], [-3.4630250585952163, 51.54341196896639], [-3.4975123897557414, 51.51264201307474]]]}","{\"type\": \"MultiPolygon\", \"coordinates\": [[[[-3.626359958132563, 51.474212034603056], [-3.638323134328984, 51.469930471282105], [-3.6398868101026793, 51.470698748676504], [-3.626359958132563, 51.474212034603056]]], [[[-3.4110580674622755, 51.506766512104214], [-3.4019134521295387, 51.498963048499164], [-3.3786408551955796, 51.51271301021924], [-3.335738528718332, 51.50842730743167], [-3.298385007823933, 51.499914667386854], [-3.2710591240252738, 51.46505335449006], [-3.2480532733163066, 51.46455523680341], [-3.218912348736482, 51.474858442246266], [-3.1866648028064444, 51.447900186675156], [-3.1659491822461274, 51.44400205266143], [-3.1696969245268933, 51.406295959376216], [-3.1876431229140345, 51.40008857165297], [-3.2241540623886626, 51.40341997816959], [-3.2609042840697517, 51.394772538747205], [-3.2646473043893636, 51.38923307911479], [-3.2689889807986043, 51.38789816011572], [-3.3103332064499487, 51.39275775046958], [-3.342364642315456, 51.3810629250589], [-3.3957898417510286, 51.38273121836894], [-3.3951900735766296, 51.397862220889635], [-3.3965867978907336, 51.38236238168379], [-3.405593360505095, 51.3810000991996], [-3.41525727717095, 51.38777540816011], [-3.438592250478602, 51.38998834191853], [-3.558961430897073, 51.40132627608429], [-3.5967905659756783, 51.441024265136996], [-3.626815378161557, 51.45546555855829], [-3.6393213397146496, 51.463383625571495], [-3.6212323053124917, 51.475543274885986], [-3.554761107202898, 51.49277337557471], [-3.532850420609366, 51.481605621305846], [-3.539449933659159, 51.49103125868848], [-3.5276112794929486, 51.49368417609538], [-3.529609826210619, 51.50136360927911], [-3.4975123897557414, 51.51264201307474], [-3.4653609085086567, 51.51480873299422], [-3.4110580674622755, 51.506766512104214]]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-3.1188913166525323, 51.545637948791715], [-3.0689101876252582, 51.52026633917207], [-3.0903914145049907, 51.509874590705074], [-3.083499928388174, 51.5016803832923], [-3.1254541822612176, 51.48950555933003], [-3.141757154614854, 51.51227328437549], [-3.1235807494658356, 51.48604581192995], [-3.15282602434857, 51.45700739399967], [-3.1641414154316263, 51.44576018333622], [-3.1643889263680145, 51.44581476195621], [-3.1657331132288897, 51.446174376903585], [-3.1659491822461274, 51.44400205266143], [-3.1866648028064444, 51.447900186675156], [-3.218912348736482, 51.474858442246266], [-3.2480532733163066, 51.46455523680341], [-3.2710591240252738, 51.46505335449006], [-3.298385007823933, 51.499914667386854], [-3.335738528718332, 51.50842730743167], [-3.3415926558009525, 51.53513909977472], [-3.324359310710709, 51.53577529537086], [-3.310363514023763, 51.54893224017188], [-3.2776672344013362, 51.55185811760841], [-3.261572165462044, 51.53778654159214], [-3.237695863178457, 51.552602646996576], [-3.1637347978341794, 51.56050498092781], [-3.1525757484112766, 51.551641170667416], [-3.1444831319677373, 51.555337739505795], [-3.1188913166525323, 51.545637948791715]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-3.444203069408883, 51.816485833868825], [-3.4406883725172457, 51.79580383218833], [-3.4166343891973163, 51.76717784878698], [-3.4274716945533465, 51.758498264394895], [-3.4531501496087973, 51.761661577297495], [-3.399915147241417, 51.717883693991936], [-3.380040158933188, 51.711011809638066], [-3.3311937120759487, 51.65650350933325], [-3.3138618332707024, 51.65570420377754], [-3.313907186413467, 51.64467950965898], [-3.291382073887286, 51.59210678329969], [-3.269847678920464, 51.583830996865565], [-3.26285697607765, 51.5662367156798], [-3.242454092745675, 51.56548816333857], [-3.237695863178457, 51.552602646996576], [-3.261572165462044, 51.53778654159214], [-3.2776672344013362, 51.55185811760841], [-3.310363514023763, 51.54893224017188], [-3.324359310710709, 51.53577529537086], [-3.3415926558009525, 51.53513909977472], [-3.335738528718332, 51.50842730743167], [-3.3786408551955796, 51.51271301021924], [-3.4019134521295387, 51.498963048499164], [-3.4110580674622755, 51.506766512104214], [-3.4653609085086567, 51.51480873299422], [-3.4975123897557414, 51.51264201307474], [-3.4630250585952163, 51.54341196896639], [-3.4887322507718905, 51.5742427829553], [-3.4764673662383005, 51.58163623138305], [-3.472526240935503, 51.60126984534423], [-3.510021542438377, 51.61814081679415], [-3.537638469911023, 51.64413321618684], [-3.5633104086920926, 51.645484759348555], [-3.5895851518033224, 51.679272398722574], [-3.578645962808143, 51.71788073998511], [-3.591293203040406, 51.75461192532211], [-3.5656436318870637, 51.76488450214029], [-3.559868174084307, 51.777515850187925], [-3.537063681602388, 51.776197692785445], [-3.5412130912081152, 51.78456330115724], [-3.476330100678422, 51.809470695262725], [-3.470073668976065, 51.82850459750667], [-3.4601317401063696, 51.83012921770081], [-3.444203069408883, 51.816485833868825]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-3.116115178966575, 51.69080239794251], [-3.101973899611212, 51.68209167500406], [-3.0844231704229306, 51.68835867217868], [-3.071662638257305, 51.67418724102691], [-3.074839104856217, 51.652239859562414], [-3.1026546850235106, 51.633951158186925], [-3.0818287769832793, 51.61943280544046], [-3.0645731461718, 51.603932548992155], [-3.0937381439799427, 51.591397974398696], [-3.1051580053581165, 51.597214678549115], [-3.124192225717921, 51.58855139687533], [-3.121754172727645, 51.57969258091828], [-3.0902049084921592, 51.56926606398953], [-3.1188913166525323, 51.545637948791715], [-3.1444831319677373, 51.555337739505795], [-3.1525757484112766, 51.551641170667416], [-3.1637347978341794, 51.56050498092781], [-3.237695863178457, 51.552602646996576], [-3.242454092745675, 51.56548816333857], [-3.26285697607765, 51.5662367156798], [-3.269847678920464, 51.583830996865565], [-3.291382073887286, 51.59210678329969], [-3.313907186413467, 51.64467950965898], [-3.296110042568109, 51.66409391155511], [-3.285216762956267, 51.65823839588377], [-3.284680013653652, 51.67712978498704], [-3.273930603246591, 51.68233682446583], [-3.3006375021100327, 51.736314356030796], [-3.3155117166329022, 51.73180859815561], [-3.309950477590534, 51.739049594882474], [-3.3290461894933525, 51.75865277493748], [-3.334470458549533, 51.790402284652885], [-3.3100950508491978, 51.79430195788332], [-3.3013172553568624, 51.79897626891694], [-3.272482768552863, 51.7774829403245], [-3.2669730390517953, 51.759292455789506], [-3.222891918757188, 51.72310065488527], [-3.2240486117306353, 51.72914992522034], [-3.2108830126160823, 51.73070334873613], [-3.219637131766183, 51.745080724872004], [-3.2101312937727675, 51.75009477130729], [-3.167248937677051, 51.709901533247894], [-3.1563629838851464, 51.713970121204156], [-3.1290719626742183, 51.69578124877222], [-3.1376677128876875, 51.68192563689192], [-3.116115178966575, 51.69080239794251]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-3.157351861413951, 51.81605105860875], [-3.1458277829996204, 51.80469677409837], [-3.1568607812478593, 51.79608883975645], [-3.134188845428826, 51.79281031513787], [-3.14392412999809, 51.78610075430825], [-3.106113868400939, 51.761252170095005], [-3.1151894853295765, 51.75739610346689], [-3.1060157296683175, 51.72051536820592], [-3.116115178966575, 51.69080239794251], [-3.1376677128876875, 51.68192563689192], [-3.1290719626742183, 51.69578124877222], [-3.1563629838851464, 51.713970121204156], [-3.167248937677051, 51.709901533247894], [-3.2101312937727675, 51.75009477130729], [-3.219637131766183, 51.745080724872004], [-3.2108830126160823, 51.73070334873613], [-3.2240486117306353, 51.72914992522034], [-3.222891918757188, 51.72310065488527], [-3.2669730390517953, 51.759292455789506], [-3.272482768552863, 51.7774829403245], [-3.3013172553568624, 51.79897626891694], [-3.3100950508491978, 51.79430195788332], [-3.308585610560793, 51.80613293111633], [-3.2834346949895816, 51.82548862772804], [-3.2387788901726506, 51.81235525193474], [-3.157351861413951, 51.81605105860875]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-2.958910681976498, 51.62878028994906], [-2.989325526748437, 51.628762892199916], [-3.0196638139668392, 51.61652730530539], [-3.047172407900131, 51.62250743096825], [-3.0450431698685008, 51.606674926636614], [-3.0818287769832793, 51.61943280544046], [-3.1026546850235106, 51.633951158186925], [-3.074839104856217, 51.652239859562414], [-3.071662638257305, 51.67418724102691], [-3.0844231704229306, 51.68835867217868], [-3.101973899611212, 51.68209167500406], [-3.116115178966575, 51.69080239794251], [-3.1060157296683175, 51.72051536820592], [-3.1151894853295765, 51.75739610346689], [-3.106113868400939, 51.761252170095005], [-3.14392412999809, 51.78610075430825], [-3.134188845428826, 51.79281031513787], [-3.108239234178166, 51.796221315757094], [-3.0588774405948347, 51.7836397477089], [-3.043448641323702, 51.77040282865765], [-3.0493366792856325, 51.76044795882693], [-3.0277800356581235, 51.74537253137456], [-3.031286982292333, 51.72267938825525], [-2.983547027439881, 51.71537113177045], [-3.002005084118324, 51.69082922128741], [-2.9685990518203202, 51.69143943640682], [-2.979455269743175, 51.67368544141108], [-2.9949026849395697, 51.67925902794304], [-3.0034696009352793, 51.66905730979584], [-2.958910681976498, 51.62878028994906]]]}","{\"type\": \"MultiPolygon\", \"coordinates\": [[[[-2.6566414801117717, 51.622799569029475], [-2.6569078269885984, 51.621997137438946], [-2.6601764709519657, 51.62959991244587], [-2.6566414801117717, 51.622799569029475]]], [[[-3.025944663539989, 51.957282256409876], [-3.0081234946974686, 51.92713051499641], [-2.9766655115633855, 51.927490166246564], [-2.9718465112178114, 51.904981586404354], [-2.8778354132380364, 51.93381434181687], [-2.844935070833945, 51.92202596865448], [-2.861920039681708, 51.914018121535555], [-2.8419085546993905, 51.91772645375646], [-2.8361008696436456, 51.90604496800782], [-2.768428479486416, 51.880540966834154], [-2.778799061038008, 51.86585903995324], [-2.738848775640062, 51.836616483560036], [-2.7196053398655375, 51.84891924844933], [-2.7151285457169307, 51.84024389524836], [-2.697302290380555, 51.84480909562374], [-2.6932957205163253, 51.83384097992828], [-2.666197708725148, 51.8356235218363], [-2.65040088931262, 51.82612465919689], [-2.660871625195112, 51.82275382697605], [-2.6595389281815613, 51.8106823425617], [-2.6785380209181557, 51.802845167680964], [-2.6698107660272816, 51.794273417693546], [-2.6804523160025653, 51.76892937877885], [-2.662692251719053, 51.75389470884843], [-2.6722253080463814, 51.73636291108292], [-2.6875409874043323, 51.730426225474496], [-2.6684407292653174, 51.705788833637186], [-2.6837916518952256, 51.70062748385875], [-2.669169096673288, 51.69314998009576], [-2.6722534865711043, 51.68100009855946], [-2.656863911430402, 51.67450368151876], [-2.6864021701261884, 51.66315524378334], [-2.665922950729215, 51.66432351048054], [-2.6803319700479697, 51.64754701063203], [-2.668514111540666, 51.64563056454674], [-2.6633026475911907, 51.63561197631862], [-2.658194672294152, 51.62162932273683], [-2.6696936229976993, 51.60878474606183], [-2.695581614184941, 51.60340517895552], [-2.712610734304117, 51.58235392799928], [-2.757535572285157, 51.578409816822926], [-2.8216352953146386, 51.55406891042844], [-2.822202608378675, 51.553921490446065], [-2.8342265332113907, 51.57038149845389], [-2.8526655390254296, 51.57125618124111], [-2.8591986659554203, 51.579422492285985], [-2.8302818838655686, 51.61494876097534], [-2.8031974677482294, 51.6158645454174], [-2.8345045265729985, 51.64836405249382], [-2.8836030271520285, 51.6415371638992], [-2.908524932097971, 51.623632694768034], [-2.920862345392395, 51.62688246436246], [-2.9413322082891247, 51.61712083373499], [-2.947696390087902, 51.628637419377014], [-2.958910681976498, 51.62878028994906], [-3.0034696009352793, 51.66905730979584], [-2.9949026849395697, 51.67925902794304], [-2.979455269743175, 51.67368544141108], [-2.9685990518203202, 51.69143943640682], [-3.002005084118324, 51.69082922128741], [-2.983547027439881, 51.71537113177045], [-3.031286982292333, 51.72267938825525], [-3.0277800356581235, 51.74537253137456], [-3.0493366792856325, 51.76044795882693], [-3.043448641323702, 51.77040282865765], [-3.0588774405948347, 51.7836397477089], [-3.108239234178166, 51.796221315757094], [-3.134188845428826, 51.79281031513787], [-3.1568607812478593, 51.79608883975645], [-3.1458277829996204, 51.80469677409837], [-3.157351861413951, 51.81605105860875], [-3.1205205614041476, 51.838920744423525], [-3.1010017966018504, 51.83204870545982], [-3.09717314627619, 51.84642753659986], [-3.063402372988162, 51.863323280905455], [-3.0722459807937526, 51.87519613812612], [-3.0400541577784304, 51.88458981228886], [-3.0495067574040275, 51.911445757360944], [-3.0786510526339708, 51.92453075321639], [-3.0900541573152793, 51.950354576543], [-3.0815933236268274, 51.95539397753842], [-3.093086377811883, 51.96519058822715], [-3.0673681076306156, 51.98314276007928], [-3.025944663539989, 51.957282256409876]]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-2.822202608378675, 51.553921490446065], [-2.8665786214130096, 51.542378679356545], [-2.9048824430178684, 51.53239715713712], [-2.9225227498420256, 51.53578495513717], [-2.9140170276689847, 51.54257592061085], [-2.9512353711365917, 51.53509204284708], [-2.981657099778218, 51.54513185935783], [-2.97023145494661, 51.555588231890056], [-2.988713455284221, 51.54952720207282], [-3.0049183202905336, 51.565770722348546], [-2.989311187495835, 51.547513840689625], [-2.995309291210739, 51.536470311273966], [-3.0516526084053264, 51.51420436100376], [-3.0827202886225282, 51.50190642415502], [-3.083499928388174, 51.5016803832923], [-3.0903914145049907, 51.509874590705074], [-3.0689101876252582, 51.52026633917207], [-3.1188913166525323, 51.545637948791715], [-3.0902049084921592, 51.56926606398953], [-3.121754172727645, 51.57969258091828], [-3.124192225717921, 51.58855139687533], [-3.1051580053581165, 51.597214678549115], [-3.0937381439799427, 51.591397974398696], [-3.0645731461718, 51.603932548992155], [-3.0818287769832793, 51.61943280544046], [-3.0450431698685008, 51.606674926636614], [-3.047172407900131, 51.62250743096825], [-3.0196638139668392, 51.61652730530539], [-2.989325526748437, 51.628762892199916], [-2.958910681976498, 51.62878028994906], [-2.947696390087902, 51.628637419377014], [-2.9413322082891247, 51.61712083373499], [-2.920862345392395, 51.62688246436246], [-2.908524932097971, 51.623632694768034], [-2.8836030271520285, 51.6415371638992], [-2.8345045265729985, 51.64836405249382], [-2.8031974677482294, 51.6158645454174], [-2.8302818838655686, 51.61494876097534], [-2.8591986659554203, 51.579422492285985], [-2.8526655390254296, 51.57125618124111], [-2.8342265332113907, 51.57038149845389], [-2.822202608378675, 51.553921490446065]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-3.1475041237481385, 52.890169308592874], [-3.1355243191476023, 52.88501363360343], [-3.1524169144524135, 52.878747855670795], [-3.127713059186365, 52.86710300132838], [-3.1630149340140528, 52.84749091328003], [-3.1512605612116955, 52.84256485274174], [-3.1678877202288382, 52.8192666435524], [-3.1682053393923213, 52.80732841070815], [-3.153190222240329, 52.806368593331186], [-3.16085553907008, 52.7957450583329], [-3.1182870212421063, 52.78358238529503], [-3.0866323717521067, 52.79559312582769], [-3.0916826503232935, 52.78666294654594], [-3.079516250442163, 52.77151388250923], [-3.0477896081672564, 52.77264258220058], [-3.052579930703861, 52.768689511387535], [-3.038976984331581, 52.77040074720136], [-3.035094503209563, 52.764008670244834], [-3.0171996113585924, 52.767664146614585], [-3.010790389117262, 52.75856366390115], [-3.0218099729131094, 52.751940751281786], [-2.9919929674844274, 52.74375600526755], [-2.9913199451122705, 52.73381796902349], [-2.965065876290419, 52.73226803053882], [-2.961079604781955, 52.71646565764375], [-2.978103210331121, 52.715357291536606], [-2.977592140876176, 52.726591642846444], [-3.0005548329499083, 52.72027527942554], [-3.020357349809889, 52.725102213632134], [-3.022486138243263, 52.70666791645412], [-3.047048004684895, 52.691265813435045], [-3.038580463626904, 52.6753731375565], [-3.0511127300648453, 52.64736552697657], [-3.083566461722086, 52.64129248215921], [-3.0597990878908203, 52.63072115025089], [-3.0731870860083257, 52.62896263009327], [-3.0936227640807177, 52.60933905363616], [-3.0895583495586365, 52.599506267947554], [-3.117414339162063, 52.58576311160202], [-3.139500954065725, 52.58571977800375], [-3.1114956042228097, 52.54136373219765], [-3.1370449008357917, 52.53404477840126], [-3.1330645619951936, 52.52747057677121], [-3.0854124711189836, 52.534502674516425], [-3.0872760114683997, 52.55133148056017], [-3.0142306352590555, 52.57549651141841], [-2.9941641822429066, 52.552910837415105], [-3.003873862886221, 52.51983300590085], [-3.0323791331232406, 52.52373130757326], [-3.029202384065782, 52.50126799334889], [-3.1110173172764948, 52.49893479801432], [-3.180214661103906, 52.47393445453004], [-3.197240352861265, 52.47598937709079], [-3.2355430891275163, 52.44250357725356], [-3.2195446873317937, 52.421252953242586], [-3.1788367372242194, 52.409397298358584], [-3.1544468011785334, 52.387715141824565], [-3.110606685061456, 52.37719282655622], [-3.060664599298386, 52.34823949328563], [-3.0401745841425813, 52.344326413571935], [-2.9745034338836547, 52.354700742045765], [-2.954651533899733, 52.34915473421149], [-2.9668013338636046, 52.32944904245183], [-3.0008662163131348, 52.32176577291198], [-3.0126082744368095, 52.27916896527857], [-2.949634935569529, 52.26946820370429], [-2.9771818084665536, 52.25968611332844], [-3.005776174129455, 52.2642594760678], [-3.03586106983498, 52.2567569885176], [-3.0483182774452224, 52.250232878317235], [-3.044215296765442, 52.23792742851479], [-3.073036883438869, 52.23587689086041], [-3.072091975426698, 52.21308725043426], [-3.102082056075213, 52.202720396267274], [-3.094651221128743, 52.18374224525204], [-3.1224306496934724, 52.16341957445907], [-3.0988962116846164, 52.154733852454555], [-3.0825433335804995, 52.163047120779126], [-3.0725384358077017, 52.15577319525104], [-3.093690237662702, 52.14430596117057], [-3.1358734874316387, 52.13790836419589], [-3.141920903272547, 52.12786714755826], [-3.1049852473958905, 52.11672758563677], [-3.105465902586048, 52.10538621308424], [-3.122715346919738, 52.103157898420925], [-3.1258957933029663, 52.078310790377024], [-3.0905882829746982, 52.050513255332305], [-3.0862868248525945, 52.04019434062732], [-3.099199086219327, 52.02268578101021], [-3.0673681076306156, 51.98314276007928], [-3.093086377811883, 51.96519058822715], [-3.0815933236268274, 51.95539397753842], [-3.0900541573152793, 51.950354576543], [-3.0786510526339708, 51.92453075321639], [-3.0495067574040275, 51.911445757360944], [-3.0400541577784304, 51.88458981228886], [-3.0722459807937526, 51.87519613812612], [-3.063402372988162, 51.863323280905455], [-3.09717314627619, 51.84642753659986], [-3.1010017966018504, 51.83204870545982], [-3.1205205614041476, 51.838920744423525], [-3.157351861413951, 51.81605105860875], [-3.2387788901726506, 51.81235525193474], [-3.2834346949895816, 51.82548862772804], [-3.308585610560793, 51.80613293111633], [-3.3100950508491978, 51.79430195788332], [-3.334470458549533, 51.790402284652885], [-3.360053966206304, 51.79108815032937], [-3.3575395385171283, 51.806976805337165], [-3.4023156130713543, 51.81415874508005], [-3.40241727250927, 51.826311668214714], [-3.4171318409112743, 51.83510083645583], [-3.444203069408883, 51.816485833868825], [-3.4601317401063696, 51.83012921770081], [-3.470073668976065, 51.82850459750667], [-3.476330100678422, 51.809470695262725], [-3.5412130912081152, 51.78456330115724], [-3.537063681602388, 51.776197692785445], [-3.559868174084307, 51.777515850187925], [-3.5656436318870637, 51.76488450214029], [-3.591293203040406, 51.75461192532211], [-3.603431062407061, 51.773846408228145], [-3.670366115594461, 51.7871981877138], [-3.727910679096082, 51.77620659538867], [-3.7460908929798964, 51.75339219084852], [-3.7703206266574676, 51.754521589787466], [-3.806690656317786, 51.78795225422359], [-3.7726456801213994, 51.84602228385891], [-3.7138375938513644, 51.88712555065491], [-3.7136829047570896, 51.90593624324248], [-3.7275181864989615, 51.91051413631398], [-3.720936639300499, 51.941311546893395], [-3.699906626684568, 51.94608881600956], [-3.7112036993299915, 51.96187932039], [-3.6700167977239073, 52.00421316550355], [-3.6682723982299863, 52.025432303733], [-3.6471366805358727, 52.03878916567782], [-3.6790500067836898, 52.06061198541651], [-3.6671312198319095, 52.074299237266445], [-3.7230955150384997, 52.08521423348828], [-3.728799602480951, 52.09398304815172], [-3.714076567381787, 52.10497090023907], [-3.720319195029626, 52.11750155919392], [-3.758102330278451, 52.128234313523926], [-3.7420514199785253, 52.139299379698315], [-3.752271960084851, 52.197613987147506], [-3.744208191086005, 52.24630451956067], [-3.753433587719161, 52.25176055213743], [-3.7316377747622016, 52.271450676949925], [-3.707170346528332, 52.274057534935814], [-3.733089964701347, 52.290304112811086], [-3.7277366726747423, 52.30582613669171], [-3.7450108902417796, 52.317565728251694], [-3.705129705550024, 52.34145456953258], [-3.6581675901334356, 52.3476490953206], [-3.685478954575512, 52.368221230586286], [-3.697200857907915, 52.3669295042132], [-3.712050288338341, 52.413356387565486], [-3.7716169760844487, 52.44215241012061], [-3.7664076252296694, 52.469303576101595], [-3.744798319560969, 52.474633237857596], [-3.7332607101860256, 52.506589527962845], [-3.8124669807813953, 52.478911450656774], [-3.8267559603350527, 52.48479397014653], [-3.8439960770590496, 52.512039224445914], [-3.8408621344502696, 52.55135475980784], [-3.859466410469554, 52.560843574015514], [-3.926609507108724, 52.560767030383126], [-3.92885351937948, 52.571460616101305], [-3.9153548260377975, 52.57858944319713], [-3.8837800473727846, 52.57713496451174], [-3.875271385604205, 52.59292797976531], [-3.841883789595346, 52.59985542526377], [-3.8504500943888265, 52.620635843008536], [-3.8346141784712144, 52.633058697726554], [-3.840714243912904, 52.65090283362978], [-3.808095770423673, 52.67794532780919], [-3.7593517397587726, 52.66944633725365], [-3.7439075880812687, 52.6813087319443], [-3.716759884604048, 52.67877865620859], [-3.709367791705932, 52.67108242971637], [-3.683927844758701, 52.69385781592269], [-3.6563751908031876, 52.69137259839999], [-3.602017335590641, 52.70498614633968], [-3.5992945022016136, 52.72588190797386], [-3.58351431112062, 52.738622865814634], [-3.608713273326971, 52.79402160516941], [-3.5970584701196575, 52.8140539518038], [-3.586476349913803, 52.827717298015344], [-3.568170403360528, 52.82289548103917], [-3.5666730820160284, 52.8300796372145], [-3.505285660290027, 52.841956694289074], [-3.4830125967512022, 52.86545360249677], [-3.46724681342806, 52.86207775115826], [-3.3888237413987206, 52.87607009142006], [-3.3750150151581653, 52.8924534179977], [-3.345651194937263, 52.89254081925838], [-3.261803244355392, 52.866608587794246], [-3.2330033115997776, 52.867010988713034], [-3.205365137084094, 52.89312923098284], [-3.1743820145036667, 52.90157550952738], [-3.1475041237481385, 52.890169308592874]]]}","{\"type\": \"Polygon\", \"coordinates\": [[[-3.334470458549533, 51.790402284652885], [-3.3290461894933525, 51.75865277493748], [-3.309950477590534, 51.739049594882474], [-3.3155117166329022, 51.73180859815561], [-3.3006375021100327, 51.736314356030796], [-3.273930603246591, 51.68233682446583], [-3.284680013653652, 51.67712978498704], [-3.285216762956267, 51.65823839588377], [-3.296110042568109, 51.66409391155511], [-3.313907186413467, 51.64467950965898], [-3.3138618332707024, 51.65570420377754], [-3.3311937120759487, 51.65650350933325], [-3.380040158933188, 51.711011809638066], [-3.399915147241417, 51.717883693991936], [-3.4531501496087973, 51.761661577297495], [-3.4274716945533465, 51.758498264394895], [-3.4166343891973163, 51.76717784878698], [-3.4406883725172457, 51.79580383218833], [-3.444203069408883, 51.816485833868825], [-3.4171318409112743, 51.83510083645583], [-3.40241727250927, 51.826311668214714], [-3.4023156130713543, 51.81415874508005], [-3.3575395385171283, 51.806976805337165], [-3.360053966206304, 51.79108815032937], [-3.334470458549533, 51.790402284652885]]]}"],
"name":["Isle of Anglesey","Gwynedd","Conwy","Denbighshire","Flintshire","Wrexham","Ceredigion","Pembrokeshire","Carmarthenshire","Swansea","Neath Port Talbot","Bridgend","Vale of Glamorgan","Cardiff","Rhondda Cynon Taff","Caerphilly","Blaenau Gwent","Torfaen","Monmouthshire","Newport","Powys","Merthyr Tydfil"]
},
"mapping":{
"fill":"name"
},
"show_legend":false,
"data_meta":{
"series_annotations":[{
"type":"int",
"column":"OBJECTID"
},{
"type":"str",
"column":"LAD20CD"
},{
"type":"str",
"column":"LAD20NM"
},{
"type":"str",
"column":"LAD20NMW"
},{
"type":"int",
"column":"BNG_E"
},{
"type":"int",
"column":"BNG_N"
},{
"type":"float",
"column":"LONG"
},{
"type":"float",
"column":"LAT"
},{
"type":"float",
"column":"Shape__Are"
},{
"type":"float",
"column":"Shape__Len"
},{
"type":"unknown(pandas:unknown-array)",
"column":"geometry"
},{
"type":"str",
"column":"name"
},{
"type":"float",
"column":"Median weekly pay (2020 GBP)"
},{
"type":"float",
"column":"Conf %"
},{
"type":"float",
"column":"Log median weekly pay (2020 GBP)"
},{
"type":"str",
"column":"cat_col"
},{
"type":"unknown(pandas:mixed)",
"column":"coords"
}],
"geodataframe":{
"geometry":"geometry"
}
},
"size":0.2
}],
"metainfo_list":[],
"spec_id":"1"
};
           window.letsPlotCall(function() { fig = LetsPlot.buildPlotFromProcessedSpecs(plotSpec, containerDiv, sizing); });
       } else {
           fig.updateView({});
       }
   }
   
   const renderImmediately = 
       forceImmediateRender || (
           sizing.width_mode === 'FIXED' && 
           (sizing.height_mode === 'FIXED' || sizing.height_mode === 'SCALED')
       );
   
   if (renderImmediately) {
       renderPlot();
   }
   
   if (!renderImmediately || responsive) {
       // Set up observer for initial sizing or continuous monitoring
       var observer = new ResizeObserver(function(entries) {
           for (let entry of entries) {
               if (entry.contentBoxSize && 
                   entry.contentBoxSize[0].inlineSize > 0) {
                   if (!responsive && observer) {
                       observer.disconnect();
                       observer = null;
                   }
                   renderPlot();
                   if (!responsive) {
                       break;
                   }
               }
           }
       });
       
       observer.observe(containerDiv);
   }
   
   // ----------
   })();
   
   </script></div></div>
</div>
</section>
</section>
<section id="review">
<h2>Review<a class="headerlink" href="#review" title="Link to this heading">#</a></h2>
<p>If you know how to :</p>
<ul class="simple">
<li><p>✅  plot geographic data on a map;</p></li>
<li><p>✅  plot choropleths of different kinds on maps;</p></li>
<li><p>✅  create cartographs;</p></li>
<li><p>✅  use different basemaps in your geospatial visualisations;</p></li>
<li><p>✅  show time and space dimensions on plots; and</p></li>
<li><p>✅  produce interactive geospatial maps</p></li>
</ul>
<p>then you are well on your way to becoming a geospatial visualisation pro!</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="geo-intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Intro to Geo-Spatial Analysis</p>
      </div>
    </a>
    <a class="right-next"
       href="maths-abstract.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Abstract Mathematics</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imports-and-packages">Imports and packages</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maps">Maps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#choropleths">Choropleths</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cartogram">Cartogram</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quadtree">Quadtree</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spatio-temporal-plots">Spatio-Temporal Plots</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-basemaps">Using basemaps</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contextily">Contextily</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interactive-maps">Interactive maps</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#livemap-in-lets-plot">Livemap in Lets-Plot</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#review">Review</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Arthur Turrell
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  This book is available under an MIT license.
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>